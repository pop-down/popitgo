(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const Zs=!1;var yn=Array.isArray,$o=Array.prototype.indexOf,Is=Array.from,ia=Object.defineProperty,hr=Object.getOwnPropertyDescriptor,aa=Object.getOwnPropertyDescriptors,So=Object.prototype,Eo=Array.prototype,Ds=Object.getPrototypeOf,ei=Object.isExtensible;function Br(e){return typeof e=="function"}const It=()=>{};function Po(e){return e()}function ks(e){for(var t=0;t<e.length;t++)e[t]()}const Ot=2,oa=4,Gn=8,Yn=16,Qt=32,Qr=64,Dn=128,kt=256,Nn=512,ht=1024,Bt=2048,vr=4096,Yt=8192,Jn=16384,la=32768,Xr=65536,ca=1<<17,To=1<<19,ua=1<<20,$s=1<<21,Jt=Symbol("$state"),da=Symbol("legacy props"),Oo=Symbol("");function ha(e){return e===this.v}function fa(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ns(e){return!fa(e,this.v)}function Ao(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Co(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function jo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Lo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ro(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Io(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Do(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function No(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Zr=!1,Mo=!1;function Uo(){Zr=!0}const Ms=1,Us=2,va=4,zo=8,Fo=16,qo=1,Bo=2,ga=4,Wo=8,Ho=16,Vo=4,Go=1,Yo=2,mt=Symbol(),Jo="http://www.w3.org/1999/xhtml",Ko="http://www.w3.org/2000/svg";function pa(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Ee=null;function ti(e){Ee=e}function at(e,t=!1,r){var n=Ee={p:Ee,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Zr&&!t&&(Ee.l={s:null,u:null,r1:[],r2:Vr(!1)}),zs(()=>{n.d=!0})}function ot(e){const t=Ee;if(t!==null){const a=t.e;if(a!==null){var r=pe,n=xe;t.e=null;try{for(var s=0;s<a.length;s++){var i=a[s];Wt(i.effect),At(i.reaction),kn(i.fn)}}finally{Wt(r),At(n)}}Ee=t.p,t.m=!0}return{}}function bn(){return!Zr||Ee!==null&&Ee.l===null}function Sr(e){if(typeof e!="object"||e===null||Jt in e)return e;const t=Ds(e);if(t!==So&&t!==Eo)return e;var r=new Map,n=yn(e),s=tr(0),i=xe,a=o=>{var l=xe;At(i);var c=o();return At(l),c};return n&&r.set("length",tr(e.length)),new Proxy(e,{defineProperty(o,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Io();var d=r.get(l);return d===void 0?(d=a(()=>tr(c.value)),r.set(l,d)):$(d,a(()=>Sr(c.value))),!0},deleteProperty(o,l){var c=r.get(l);if(c===void 0)l in o&&(r.set(l,a(()=>tr(mt))),os(s));else{if(n&&typeof l=="string"){var d=r.get("length"),g=Number(l);Number.isInteger(g)&&g<d.v&&$(d,g)}$(c,mt),os(s)}return!0},get(o,l,c){var w;if(l===Jt)return e;var d=r.get(l),g=l in o;if(d===void 0&&(!g||(w=hr(o,l))!=null&&w.writable)&&(d=a(()=>tr(Sr(g?o[l]:mt))),r.set(l,d)),d!==void 0){var f=u(d);return f===mt?void 0:f}return Reflect.get(o,l,c)},getOwnPropertyDescriptor(o,l){var c=Reflect.getOwnPropertyDescriptor(o,l);if(c&&"value"in c){var d=r.get(l);d&&(c.value=u(d))}else if(c===void 0){var g=r.get(l),f=g==null?void 0:g.v;if(g!==void 0&&f!==mt)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(o,l){var f;if(l===Jt)return!0;var c=r.get(l),d=c!==void 0&&c.v!==mt||Reflect.has(o,l);if(c!==void 0||pe!==null&&(!d||(f=hr(o,l))!=null&&f.writable)){c===void 0&&(c=a(()=>tr(d?Sr(o[l]):mt)),r.set(l,c));var g=u(c);if(g===mt)return!1}return d},set(o,l,c,d){var b;var g=r.get(l),f=l in o;if(n&&l==="length")for(var w=c;w<g.v;w+=1){var p=r.get(w+"");p!==void 0?$(p,mt):w in o&&(p=a(()=>tr(mt)),r.set(w+"",p))}g===void 0?(!f||(b=hr(o,l))!=null&&b.writable)&&(g=a(()=>tr(void 0)),$(g,a(()=>Sr(c))),r.set(l,g)):(f=g.v!==mt,$(g,a(()=>Sr(c))));var _=Reflect.getOwnPropertyDescriptor(o,l);if(_!=null&&_.set&&_.set.call(d,c),!f){if(n&&typeof l=="string"){var v=r.get("length"),k=Number(l);Number.isInteger(k)&&k>=v.v&&$(v,k+1)}os(s)}return!0},ownKeys(o){u(s);var l=Reflect.ownKeys(o).filter(g=>{var f=r.get(g);return f===void 0||f.v!==mt});for(var[c,d]of r)d.v!==mt&&!(c in o)&&l.push(c);return l},setPrototypeOf(){Do()}})}function os(e,t=1){$(e,e.v+t)}function ri(e){try{if(e!==null&&typeof e=="object"&&Jt in e)return e[Jt]}catch{}return e}function Qo(e,t){return Object.is(ri(e),ri(t))}function vn(e){var t=Ot|Bt,r=xe!==null&&(xe.f&Ot)!==0?xe:null;return pe===null||r!==null&&(r.f&kt)!==0?t|=kt:pe.f|=ua,{ctx:Ee,deps:null,effects:null,equals:ha,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??pe}}function ce(e){const t=vn(e);return t.equals=Ns,t}function _a(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Kt(t[r])}}function Xo(e){for(var t=e.parent;t!==null;){if((t.f&Ot)===0)return t;t=t.parent}return null}function ma(e){var t,r=pe;Wt(Xo(e));try{_a(e),t=La(e)}finally{Wt(r)}return t}function wa(e){var t=ma(e),r=(cr||(e.f&kt)!==0)&&e.deps!==null?vr:ht;Ct(e,r),e.equals(t)||(e.v=t,e.wv=Ca())}const gn=new Map;function Vr(e,t){var r={f:0,v:e,reactions:null,equals:ha,rv:0,wv:0};return r}function tr(e,t){const r=Vr(e);return ll(r),r}function R(e,t=!1){var n;const r=Vr(e);return t||(r.equals=Ns),Zr&&Ee!==null&&Ee.l!==null&&((n=Ee.l).s??(n.s=[])).push(r),r}function ls(e,t){return $(e,$t(()=>u(e))),t}function $(e,t,r=!1){xe!==null&&!Mt&&bn()&&(xe.f&(Ot|Yn))!==0&&!(dt!=null&&dt.includes(e))&&No();let n=r?Sr(t):t;return pn(e,n)}function pn(e,t){if(!e.equals(t)){var r=e.v;En?gn.set(e,t):gn.set(e,r),e.v=t,(e.f&Ot)!==0&&((e.f&Bt)!==0&&ma(e),Ct(e,(e.f&kt)===0?ht:vr)),e.wv=Ca(),ya(e,Bt),bn()&&pe!==null&&(pe.f&ht)!==0&&(pe.f&(Qt|Qr))===0&&(Tt===null?cl([e]):Tt.push(e))}return t}function ni(e,t=1){var r=u(e),n=t===1?r++:r--;return $(e,r),n}function ya(e,t){var r=e.reactions;if(r!==null)for(var n=bn(),s=r.length,i=0;i<s;i++){var a=r[i],o=a.f;(o&Bt)===0&&(!n&&a===pe||(Ct(a,t),(o&(ht|kt))!==0&&((o&Ot)!==0?ya(a,vr):es(a))))}}let Zo=!1;var Ss,ba,xa,ka;function el(){if(Ss===void 0){Ss=window,ba=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;xa=hr(t,"firstChild").get,ka=hr(t,"nextSibling").get,ei(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ei(r)&&(r.__t=void 0)}}function xn(e=""){return document.createTextNode(e)}function Gr(e){return xa.call(e)}function Kn(e){return ka.call(e)}function h(e,t){return Gr(e)}function V(e,t){{var r=Gr(e);return r instanceof Comment&&r.data===""?Kn(r):r}}function m(e,t=1,r=!1){let n=e;for(;t--;)n=Kn(n);return n}function tl(e){e.textContent=""}function $a(e){pe===null&&xe===null&&jo(),xe!==null&&(xe.f&kt)!==0&&pe===null&&Co(),En&&Ao()}function rl(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function en(e,t,r,n=!0){var s=pe,i={ctx:Ee,deps:null,nodes_start:null,nodes_end:null,f:e|Bt,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(r)try{Zn(i),i.f|=la}catch(l){throw Kt(i),l}else t!==null&&es(i);var a=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(ua|Dn))===0;if(!a&&n&&(s!==null&&rl(i,s),xe!==null&&(xe.f&Ot)!==0)){var o=xe;(o.effects??(o.effects=[])).push(i)}return i}function zs(e){const t=en(Gn,null,!1);return Ct(t,ht),t.teardown=e,t}function Es(e){$a();var t=pe!==null&&(pe.f&Qt)!==0&&Ee!==null&&!Ee.m;if(t){var r=Ee;(r.e??(r.e=[])).push({fn:e,effect:pe,reaction:xe})}else{var n=kn(e);return n}}function nl(e){return $a(),$n(e)}function sl(e){const t=en(Qr,e,!0);return(r={})=>new Promise(n=>{r.outro?Yr(t,()=>{Kt(t),n(void 0)}):(Kt(t),n(void 0))})}function kn(e){return en(oa,e,!1)}function ct(e,t){var r=Ee,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=$n(()=>{e(),!n.ran&&(n.ran=!0,$(r.l.r2,!0),$t(t))})}function Fs(){var e=Ee;$n(()=>{if(u(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&ht)!==0&&Ct(r,vr),tn(r)&&Zn(r),t.ran=!1}e.l.r2.v=!1}})}function $n(e){return en(Gn,e,!0)}function z(e,t=[],r=vn){const n=t.map(r);return Sn(()=>e(...n.map(u)))}function Sn(e,t=0){return en(Gn|Yn|t,e,!0)}function Or(e,t=!0){return en(Gn|Qt,e,!0,t)}function Sa(e){var t=e.teardown;if(t!==null){const r=En,n=xe;si(!0),At(null);try{t.call(null)}finally{si(r),At(n)}}}function Ea(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&Qr)!==0?r.parent=null:Kt(r,t),r=n}}function il(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Qt)===0&&Kt(t),t=r}}function Kt(e,t=!0){var r=!1;(t||(e.f&To)!==0)&&e.nodes_start!==null&&(al(e.nodes_start,e.nodes_end),r=!0),Ea(e,t&&!r),Fn(e,0),Ct(e,Jn);var n=e.transitions;if(n!==null)for(const i of n)i.stop();Sa(e);var s=e.parent;s!==null&&s.first!==null&&Pa(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function al(e,t){for(;e!==null;){var r=e===t?null:Kn(e);e.remove(),e=r}}function Pa(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Yr(e,t){var r=[];qs(e,r,!0),Ta(r,()=>{Kt(e),t&&t()})}function Ta(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function qs(e,t,r){if((e.f&Yt)===0){if(e.f^=Yt,e.transitions!==null)for(const a of e.transitions)(a.is_global||r)&&t.push(a);for(var n=e.first;n!==null;){var s=n.next,i=(n.f&Xr)!==0||(n.f&Qt)!==0;qs(n,t,i?r:!1),n=s}}}function _n(e){Oa(e,!0)}function Oa(e,t){if((e.f&Yt)!==0){e.f^=Yt,(e.f&ht)===0&&(e.f^=ht),tn(e)&&(Ct(e,Bt),es(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&Xr)!==0||(r.f&Qt)!==0;Oa(r,s?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Mn=[];function ol(){var e=Mn;Mn=[],ks(e)}function Qn(e){Mn.length===0&&queueMicrotask(ol),Mn.push(e)}let Rn=!1,Ps=!1,Un=null,Er=!1,En=!1;function si(e){En=e}let In=[];let xe=null,Mt=!1;function At(e){xe=e}let pe=null;function Wt(e){pe=e}let dt=null;function ll(e){xe!==null&&xe.f&$s&&(dt===null?dt=[e]:dt.push(e))}let ut=null,bt=0,Tt=null;function cl(e){Tt=e}let Aa=1,zn=0,cr=!1,or=null;function Ca(){return++Aa}function tn(e){var g;var t=e.f;if((t&Bt)!==0)return!0;if((t&vr)!==0){var r=e.deps,n=(t&kt)!==0;if(r!==null){var s,i,a=(t&Nn)!==0,o=n&&pe!==null&&!cr,l=r.length;if(a||o){var c=e,d=c.parent;for(s=0;s<l;s++)i=r[s],(a||!((g=i==null?void 0:i.reactions)!=null&&g.includes(c)))&&(i.reactions??(i.reactions=[])).push(c);a&&(c.f^=Nn),o&&d!==null&&(d.f&kt)===0&&(c.f^=kt)}for(s=0;s<l;s++)if(i=r[s],tn(i)&&wa(i),i.wv>e.wv)return!0}(!n||pe!==null&&!cr)&&Ct(e,ht)}return!1}function ul(e,t){for(var r=t;r!==null;){if((r.f&Dn)!==0)try{r.fn(e);return}catch{r.f^=Dn}r=r.parent}throw Rn=!1,e}function ii(e){return(e.f&Jn)===0&&(e.parent===null||(e.parent.f&Dn)===0)}function Xn(e,t,r,n){if(Rn){if(r===null&&(Rn=!1),ii(t))throw e;return}if(r!==null&&(Rn=!0),ul(e,t),ii(t))throw e}function ja(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];dt!=null&&dt.includes(e)||((i.f&Ot)!==0?ja(i,t,!1):t===i&&(r?Ct(i,Bt):(i.f&ht)!==0&&Ct(i,vr),es(i)))}}function La(e){var w;var t=ut,r=bt,n=Tt,s=xe,i=cr,a=dt,o=Ee,l=Mt,c=e.f;ut=null,bt=0,Tt=null,cr=(c&kt)!==0&&(Mt||!Er||xe===null),xe=(c&(Qt|Qr))===0?e:null,dt=null,ti(e.ctx),Mt=!1,zn++,e.f|=$s;try{var d=(0,e.fn)(),g=e.deps;if(ut!==null){var f;if(Fn(e,bt),g!==null&&bt>0)for(g.length=bt+ut.length,f=0;f<ut.length;f++)g[bt+f]=ut[f];else e.deps=g=ut;if(!cr)for(f=bt;f<g.length;f++)((w=g[f]).reactions??(w.reactions=[])).push(e)}else g!==null&&bt<g.length&&(Fn(e,bt),g.length=bt);if(bn()&&Tt!==null&&!Mt&&g!==null&&(e.f&(Ot|vr|Bt))===0)for(f=0;f<Tt.length;f++)ja(Tt[f],e);return s!==null&&s!==e&&(zn++,Tt!==null&&(n===null?n=Tt:n.push(...Tt))),d}finally{ut=t,bt=r,Tt=n,xe=s,cr=i,dt=a,ti(o),Mt=l,e.f^=$s}}function dl(e,t){let r=t.reactions;if(r!==null){var n=$o.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(t.f&Ot)!==0&&(ut===null||!ut.includes(t))&&(Ct(t,vr),(t.f&(kt|Nn))===0&&(t.f^=Nn),_a(t),Fn(t,0))}function Fn(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)dl(e,r[n])}function Zn(e){var t=e.f;if((t&Jn)===0){Ct(e,ht);var r=pe,n=Ee,s=Er;pe=e,Er=!0;try{(t&Yn)!==0?il(e):Ea(e),Sa(e);var i=La(e);e.teardown=typeof i=="function"?i:null,e.wv=Aa;var a=e.deps,o;Zs&&Mo&&e.f&Bt}catch(l){Xn(l,e,r,n||e.ctx)}finally{Er=s,pe=r}}}function hl(){try{Lo()}catch(e){if(Un!==null)Xn(e,Un,null);else throw e}}function fl(){var e=Er;try{var t=0;for(Er=!0;In.length>0;){t++>1e3&&hl();var r=In,n=r.length;In=[];for(var s=0;s<n;s++){var i=gl(r[s]);vl(i)}gn.clear()}}finally{Ps=!1,Er=e,Un=null}}function vl(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(Jn|Yt))===0)try{tn(n)&&(Zn(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Pa(n):n.fn=null))}catch(s){Xn(s,n,null,n.ctx)}}}function es(e){Ps||(Ps=!0,queueMicrotask(fl));for(var t=Un=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Qr|Qt))!==0){if((r&ht)===0)return;t.f^=ht}}In.push(t)}function gl(e){for(var t=[],r=e;r!==null;){var n=r.f,s=(n&(Qt|Qr))!==0,i=s&&(n&ht)!==0;if(!i&&(n&Yt)===0){if((n&oa)!==0)t.push(r);else if(s)r.f^=ht;else try{tn(r)&&Zn(r)}catch(l){Xn(l,r,null,r.ctx)}var a=r.first;if(a!==null){r=a;continue}}var o=r.parent;for(r=r.next;r===null&&o!==null;)r=o.next,o=o.parent}return t}function u(e){var t=e.f,r=(t&Ot)!==0;if(or!==null&&or.add(e),xe!==null&&!Mt){if(!(dt!=null&&dt.includes(e))){var n=xe.deps;e.rv<zn&&(e.rv=zn,ut===null&&n!==null&&n[bt]===e?bt++:ut===null?ut=[e]:(!cr||!ut.includes(e))&&ut.push(e))}}else if(r&&e.deps===null&&e.effects===null){var s=e,i=s.parent;i!==null&&(i.f&kt)===0&&(s.f^=kt)}return r&&(s=e,tn(s)&&wa(s)),En&&gn.has(e)?gn.get(e):e.v}function pl(e){var t=or;or=new Set;var r=or,n;try{if($t(e),t!==null)for(n of or)t.add(n)}finally{or=t}return r}function Pr(e){var t=pl(()=>$t(e));for(var r of t)if((r.f&ca)!==0)for(const n of r.deps||[])(n.f&Ot)===0&&pn(n,n.v);else pn(r,r.v)}function $t(e){var t=Mt;try{return Mt=!0,e()}finally{Mt=t}}const _l=-7169;function Ct(e,t){e.f=e.f&_l|t}function ir(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Jt in e)Ts(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Jt in r&&Ts(r)}}}function Ts(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Ts(e[n],t)}catch{}const r=Ds(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=aa(r);for(let s in n){const i=n[s].get;if(i)try{i.call(e)}catch{}}}}}function ml(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const wl=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function yl(e){return wl.includes(e)}const bl={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function xl(e){return e=e.toLowerCase(),bl[e]??e}const kl=["touchstart","touchmove"];function $l(e){return kl.includes(e)}function Sl(e,t){if(t){const r=document.body;e.autofocus=!0,Qn(()=>{document.activeElement===r&&e.focus()})}}let ai=!1;function El(){ai||(ai=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Bs(e){var t=xe,r=pe;At(null),Wt(null);try{return e()}finally{At(t),Wt(r)}}function Ws(e,t,r,n=r){e.addEventListener(t,()=>Bs(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),El()}const Ra=new Set,Os=new Set;function Ia(e,t,r,n={}){function s(i){if(n.capture||cn.call(t,i),!i.cancelBubble)return Bs(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Qn(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function D(e,t,r,n,s){var i={capture:n,passive:s},a=Ia(e,t,r,i);(t===document.body||t===window||t===document)&&zs(()=>{t.removeEventListener(e,a,i)})}function Pl(e){for(var t=0;t<e.length;t++)Ra.add(e[t]);for(var r of Os)r(e)}function cn(e){var b;var t=this,r=t.ownerDocument,n=e.type,s=((b=e.composedPath)==null?void 0:b.call(e))||[],i=s[0]||e.target,a=0,o=e.__root;if(o){var l=s.indexOf(o);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var c=s.indexOf(t);if(c===-1)return;l<=c&&(a=l)}if(i=s[a]||e.target,i!==t){ia(e,"currentTarget",{configurable:!0,get(){return i||r}});var d=xe,g=pe;At(null),Wt(null);try{for(var f,w=[];i!==null;){var p=i.assignedSlot||i.parentNode||i.host||null;try{var _=i["__"+n];if(_!=null&&(!i.disabled||e.target===i))if(yn(_)){var[v,...k]=_;v.apply(i,[e,...k])}else _.call(i,e)}catch(y){f?w.push(y):f=y}if(e.cancelBubble||p===t||p===null)break;i=p}if(f){for(let y of w)queueMicrotask(()=>{throw y});throw f}}finally{e.__root=t,delete e.currentTarget,At(d),Wt(g)}}}function Da(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Jr(e,t){var r=pe;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function P(e,t){var r=(t&Go)!==0,n=(t&Yo)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=Da(i?e:"<!>"+e),r||(s=Gr(s)));var a=n||ba?document.importNode(s,!0):s.cloneNode(!0);if(r){var o=Gr(a),l=a.lastChild;Jr(o,l)}else Jr(a,a);return a}}function Tl(e,t,r="svg"){var n=!e.startsWith("<!>"),s=`<${r}>${n?e:"<!>"+e}</${r}>`,i;return()=>{if(!i){var a=Da(s),o=Gr(a);i=Gr(o)}var l=i.cloneNode(!0);return Jr(l,l),l}}function rt(e=""){{var t=xn(e+"");return Jr(t,t),t}}function ye(){var e=document.createDocumentFragment(),t=document.createComment(""),r=xn();return e.append(t,r),Jr(t,r),e}function x(e,t){e!==null&&e.before(t)}let qn=!0;function oi(e){qn=e}function N(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Ol(e,t){return Al(e,t)}const Lr=new Map;function Al(e,{target:t,anchor:r,props:n={},events:s,context:i,intro:a=!0}){el();var o=new Set,l=g=>{for(var f=0;f<g.length;f++){var w=g[f];if(!o.has(w)){o.add(w);var p=$l(w);t.addEventListener(w,cn,{passive:p});var _=Lr.get(w);_===void 0?(document.addEventListener(w,cn,{passive:p}),Lr.set(w,1)):Lr.set(w,_+1)}}};l(Is(Ra)),Os.add(l);var c=void 0,d=sl(()=>{var g=r??t.appendChild(xn());return Or(()=>{if(i){at({});var f=Ee;f.c=i}s&&(n.$$events=s),qn=a,c=e(g,n)||{},qn=!0,i&&ot()}),()=>{var p;for(var f of o){t.removeEventListener(f,cn);var w=Lr.get(f);--w===0?(document.removeEventListener(f,cn),Lr.delete(f)):Lr.set(f,w)}Os.delete(l),g!==r&&((p=g.parentNode)==null||p.removeChild(g))}});return Cl.set(c,d),c}let Cl=new WeakMap;function M(e,t,[r,n]=[0,0]){var s=e,i=null,a=null,o=mt,l=r>0?Xr:0,c=!1;const d=(f,w=!0)=>{c=!0,g(w,f)},g=(f,w)=>{o!==(o=f)&&(o?(i?_n(i):w&&(i=Or(()=>w(s))),a&&Yr(a,()=>{a=null})):(a?_n(a):w&&(a=Or(()=>w(s,[r+1,n]))),i&&Yr(i,()=>{i=null})))};Sn(()=>{c=!1,t(d),c||g(null,null)},l)}function qt(e,t){return t}function jl(e,t,r,n){for(var s=[],i=t.length,a=0;a<i;a++)qs(t[a].e,s,!0);var o=i>0&&s.length===0&&r!==null;if(o){var l=r.parentNode;tl(l),l.append(r),n.clear(),ar(e,t[0].prev,t[i-1].next)}Ta(s,()=>{for(var c=0;c<i;c++){var d=t[c];o||(n.delete(d.k),ar(e,d.prev,d.next)),Kt(d.e,!o)}})}function xt(e,t,r,n,s,i=null){var a=e,o={flags:t,items:new Map,first:null},l=(t&va)!==0;if(l){var c=e;a=c.appendChild(xn())}var d=null,g=!1,f=ce(()=>{var w=r();return yn(w)?w:w==null?[]:Is(w)});Sn(()=>{var w=u(f),p=w.length;g&&p===0||(g=p===0,Ll(w,o,a,s,t,n,r),i!==null&&(p===0?d?_n(d):d=Or(()=>i(a)):d!==null&&Yr(d,()=>{d=null})),u(f))})}function Ll(e,t,r,n,s,i,a){var L,re,Y,ue;var o=(s&zo)!==0,l=(s&(Ms|Us))!==0,c=e.length,d=t.items,g=t.first,f=g,w,p=null,_,v=[],k=[],b,y,S,E;if(o)for(E=0;E<c;E+=1)b=e[E],y=i(b,E),S=d.get(y),S!==void 0&&((L=S.a)==null||L.measure(),(_??(_=new Set)).add(S));for(E=0;E<c;E+=1){if(b=e[E],y=i(b,E),S=d.get(y),S===void 0){var O=f?f.e.nodes_start:r;p=Il(O,t,p,p===null?t.first:p.next,b,y,E,n,s,a),d.set(y,p),v=[],k=[],f=p.next;continue}if(l&&Rl(S,b,E,s),(S.e.f&Yt)!==0&&(_n(S.e),o&&((re=S.a)==null||re.unfix(),(_??(_=new Set)).delete(S))),S!==f){if(w!==void 0&&w.has(S)){if(v.length<k.length){var U=k[0],C;p=U.prev;var K=v[0],B=v[v.length-1];for(C=0;C<v.length;C+=1)li(v[C],U,r);for(C=0;C<k.length;C+=1)w.delete(k[C]);ar(t,K.prev,B.next),ar(t,p,K),ar(t,B,U),f=U,p=B,E-=1,v=[],k=[]}else w.delete(S),li(S,f,r),ar(t,S.prev,S.next),ar(t,S,p===null?t.first:p.next),ar(t,p,S),p=S;continue}for(v=[],k=[];f!==null&&f.k!==y;)(f.e.f&Yt)===0&&(w??(w=new Set)).add(f),k.push(f),f=f.next;if(f===null)continue;S=f}v.push(S),p=S,f=S.next}if(f!==null||w!==void 0){for(var T=w===void 0?[]:Is(w);f!==null;)(f.e.f&Yt)===0&&T.push(f),f=f.next;var H=T.length;if(H>0){var A=(s&va)!==0&&c===0?r:null;if(o){for(E=0;E<H;E+=1)(Y=T[E].a)==null||Y.measure();for(E=0;E<H;E+=1)(ue=T[E].a)==null||ue.fix()}jl(t,T,A,d)}}o&&Qn(()=>{var he;if(_!==void 0)for(S of _)(he=S.a)==null||he.apply()}),pe.first=t.first&&t.first.e,pe.last=p&&p.e}function Rl(e,t,r,n){(n&Ms)!==0&&pn(e.v,t),(n&Us)!==0?pn(e.i,r):e.i=r}function Il(e,t,r,n,s,i,a,o,l,c){var d=(l&Ms)!==0,g=(l&Fo)===0,f=d?g?R(s):Vr(s):s,w=(l&Us)===0?a:Vr(a),p={i:w,v:f,k:i,a:null,e:null,prev:r,next:n};try{return p.e=Or(()=>o(e,f,w,c),Zo),p.e.prev=r&&r.e,p.e.next=n&&n.e,r===null?t.first=p:(r.next=p,r.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function li(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var a=Kn(i);s.before(i),i=a}}function ar(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ce(e,t,r,n,s){var o;var i=(o=t.$$slots)==null?void 0:o[r],a=!1;i===!0&&(i=t.children,a=!0),i===void 0||i(e,a?()=>n:n)}function Dl(e,t,r){var n=e,s,i;Sn(()=>{s!==(s=t())&&(i&&(Yr(i),i=null),s&&(i=Or(()=>r(n,s))))},Xr)}function Nl(e,t,r,n,s,i){var a,o,l=null,c=e,d;Sn(()=>{const g=t()||null;var f=Ko;g!==a&&(d&&(g===null?Yr(d,()=>{d=null,o=null}):g===o?_n(d):(Kt(d),oi(!1))),g&&g!==o&&(d=Or(()=>{if(l=document.createElementNS(f,g),Jr(l,l),n){var w=l.appendChild(xn());n(l,w)}pe.nodes_end=l,c.before(l)})),a=g,a&&(o=a),oi(!0))},Xr)}function Na(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Na(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ml(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Na(e))&&(n&&(n+=" "),n+=t);return n}function Bn(e){return typeof e=="object"?Ml(e):e??""}const ci=[...` 	
\r\f \v\uFEFF`];function Ul(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var i=s.length,a=0;(a=n.indexOf(s,a))>=0;){var o=a+i;(a===0||ci.includes(n[a-1]))&&(o===n.length||ci.includes(n[o]))?n=(a===0?"":n.substring(0,a))+n.substring(o+1):a=o}}return n===""?null:n}function ui(e,t=!1){var r=t?" !important;":";",n="";for(var s in e){var i=e[s];i!=null&&i!==""&&(n+=" "+s+": "+i+r)}return n}function cs(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function zl(e,t){if(t){var r="",n,s;if(Array.isArray(t)?(n=t[0],s=t[1]):n=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,o=!1,l=[];n&&l.push(...Object.keys(n).map(cs)),s&&l.push(...Object.keys(s).map(cs));var c=0,d=-1;const _=e.length;for(var g=0;g<_;g++){var f=e[g];if(o?f==="/"&&e[g-1]==="*"&&(o=!1):i?i===f&&(i=!1):f==="/"&&e[g+1]==="*"?o=!0:f==='"'||f==="'"?i=f:f==="("?a++:f===")"&&a--,!o&&i===!1&&a===0){if(f===":"&&d===-1)d=g;else if(f===";"||g===_-1){if(d!==-1){var w=cs(e.substring(c,d).trim());if(!l.includes(w)){f!==";"&&g++;var p=e.substring(c,g).trim();r+=" "+p+";"}}c=g+1,d=-1}}}}return n&&(r+=ui(n)),s&&(r+=ui(s,!0)),r=r.trim(),r===""?null:r}return e==null?null:String(e)}function st(e,t,r,n,s,i){var a=e.__className;if(a!==r||a===void 0){var o=Ul(r,n,i);o==null?e.removeAttribute("class"):t?e.className=o:e.setAttribute("class",o),e.__className=r}else if(i&&s!==i)for(var l in i){var c=!!i[l];(s==null||c!==!!s[l])&&e.classList.toggle(l,c)}return i}function us(e,t={},r,n){for(var s in r){var i=r[s];t[s]!==i&&(r[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,n))}}function Fl(e,t,r,n){var s=e.__style;if(s!==t){var i=zl(t,n);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}else n&&(Array.isArray(n)?(us(e,r==null?void 0:r[0],n[0]),us(e,r==null?void 0:r[1],n[1],"important")):us(e,r,n));return n}const sn=Symbol("class"),an=Symbol("style"),Ma=Symbol("is custom element"),Ua=Symbol("is html");function ql(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function ur(e,t,r,n){var s=za(e);s[t]!==(s[t]=r)&&(t==="loading"&&(e[Oo]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Fa(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function di(e,t,r,n,s=!1){var i=za(e),a=i[Ma],o=!i[Ua],l=t||{},c=e.tagName==="OPTION";for(var d in t)d in r||(r[d]=null);r.class?r.class=Bn(r.class):r[sn]&&(r.class=null),r[an]&&(r.style??(r.style=null));var g=Fa(e);for(const b in r){let y=r[b];if(c&&b==="value"&&y==null){e.value=e.__value="",l[b]=y;continue}if(b==="class"){var f=e.namespaceURI==="http://www.w3.org/1999/xhtml";st(e,f,y,n,t==null?void 0:t[sn],r[sn]),l[b]=y,l[sn]=r[sn];continue}if(b==="style"){Fl(e,y,t==null?void 0:t[an],r[an]),l[b]=y,l[an]=r[an];continue}var w=l[b];if(y!==w){l[b]=y;var p=b[0]+b[1];if(p!=="$$")if(p==="on"){const S={},E="$$"+b;let O=b.slice(2);var _=yl(O);if(ml(O)&&(O=O.slice(0,-7),S.capture=!0),!_&&w){if(y!=null)continue;e.removeEventListener(O,l[E],S),l[E]=null}if(y!=null)if(_)e[`__${O}`]=y,Pl([O]);else{let U=function(C){l[b].call(this,C)};l[E]=Ia(O,e,U,S)}else _&&(e[`__${O}`]=void 0)}else if(b==="style")ur(e,b,y);else if(b==="autofocus")Sl(e,!!y);else if(!a&&(b==="__value"||b==="value"&&y!=null))e.value=e.__value=y;else if(b==="selected"&&c)ql(e,y);else{var v=b;o||(v=xl(v));var k=v==="defaultValue"||v==="defaultChecked";if(y==null&&!a&&!k)if(i[b]=null,v==="value"||v==="checked"){let S=e;const E=t===void 0;if(v==="value"){let O=S.defaultValue;S.removeAttribute(v),S.defaultValue=O,S.value=S.__value=E?O:null}else{let O=S.defaultChecked;S.removeAttribute(v),S.defaultChecked=O,S.checked=E?O:!1}}else e.removeAttribute(b);else k||g.includes(v)&&(a||typeof y!="string")?e[v]=y:typeof y!="function"&&ur(e,v,y)}}}return l}function za(e){return e.__attributes??(e.__attributes={[Ma]:e.nodeName.includes("-"),[Ua]:e.namespaceURI===Jo})}var hi=new Map;function Fa(e){var t=hi.get(e.nodeName);if(t)return t;hi.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=aa(n);for(var i in r)r[i].set&&t.push(i);n=Ds(n)}return t}const Bl=()=>performance.now(),Gt={tick:e=>requestAnimationFrame(e),now:()=>Bl(),tasks:new Set};function qa(){const e=Gt.now();Gt.tasks.forEach(t=>{t.c(e)||(Gt.tasks.delete(t),t.f())}),Gt.tasks.size!==0&&Gt.tick(qa)}function Wl(e){let t;return Gt.tasks.size===0&&Gt.tick(qa),{promise:new Promise(r=>{Gt.tasks.add(t={c:e,f:r})}),abort(){Gt.tasks.delete(t)}}}function Pn(e,t){Bs(()=>{e.dispatchEvent(new CustomEvent(t))})}function Hl(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function fi(e){const t={},r=e.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const a=Hl(s.trim());t[a]=i.trim()}return t}const Vl=e=>e;function Gl(e,t,r,n){var s=(e&Vo)!==0,i="both",a,o=t.inert,l=t.style.overflow,c,d;function g(){var v=xe,k=pe;At(null),Wt(null);try{return a??(a=r()(t,(n==null?void 0:n())??{},{direction:i}))}finally{At(v),Wt(k)}}var f={is_global:s,in(){t.inert=o,Pn(t,"introstart"),c=As(t,g(),d,1,()=>{Pn(t,"introend"),c==null||c.abort(),c=a=void 0,t.style.overflow=l})},out(v){t.inert=!0,Pn(t,"outrostart"),d=As(t,g(),c,0,()=>{Pn(t,"outroend"),v==null||v()})},stop:()=>{c==null||c.abort(),d==null||d.abort()}},w=pe;if((w.transitions??(w.transitions=[])).push(f),qn){var p=s;if(!p){for(var _=w.parent;_&&(_.f&Xr)!==0;)for(;(_=_.parent)&&(_.f&Yn)===0;);p=!_||(_.f&la)!==0}p&&kn(()=>{$t(()=>f.in())})}}function As(e,t,r,n,s){var i=n===1;if(Br(t)){var a,o=!1;return Qn(()=>{if(!o){var v=t({direction:i?"in":"out"});a=As(e,v,r,n,s)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return s(),{abort:It,deactivate:It,reset:It,t:()=>n};const{delay:l=0,css:c,tick:d,easing:g=Vl}=t;var f=[];if(i&&r===void 0&&(d&&d(0,1),c)){var w=fi(c(0,1));f.push(w,w)}var p=()=>1-n,_=e.animate(f,{duration:l});return _.onfinish=()=>{var v=(r==null?void 0:r.t())??1-n;r==null||r.abort();var k=n-v,b=t.duration*Math.abs(k),y=[];if(b>0){var S=!1;if(c)for(var E=Math.ceil(b/16.666666666666668),O=0;O<=E;O+=1){var U=v+k*g(O/E),C=fi(c(U,1-U));y.push(C),S||(S=C.overflow==="hidden")}S&&(e.style.overflow="hidden"),p=()=>{var K=_.currentTime;return v+k*g(K/b)},d&&Wl(()=>{if(_.playState!=="running")return!1;var K=p();return d(K,1-K),!0})}_=e.animate(y,{duration:b,fill:"forwards"}),_.onfinish=()=>{p=()=>n,d==null||d(n,1-n),s()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=It)},deactivate:()=>{s=It},reset:()=>{n===0&&(d==null||d(1,0))},t:()=>p()}}function Ut(e,t,r=t){var n=bn();Ws(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=hs(e)?fs(i):i,r(i),n&&i!==(i=t())){var a=e.selectionStart,o=e.selectionEnd;e.value=i??"",o!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(o,e.value.length))}}),$t(t)==null&&e.value&&r(hs(e)?fs(e.value):e.value),$n(()=>{var s=t();hs(e)&&s===fs(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function ds(e,t,r=t){Ws(e,"change",n=>{var s=n?e.defaultChecked:e.checked;r(s)}),$t(t)==null&&r(e.checked),$n(()=>{var n=t();e.checked=!!n})}function hs(e){var t=e.type;return t==="number"||t==="range"}function fs(e){return e===""?null:+e}function Wn(e,t,r){if(e.multiple)return Yl(e,t);for(var n of e.options){var s=dn(n);if(Qo(s,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ba(e,t){let r=!0;kn(()=>{t&&Wn(e,$t(t),r),r=!1;var n=new MutationObserver(()=>{var s=e.__value;Wn(e,s)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function Tr(e,t,r=t){var n=!0;Ws(e,"change",s=>{var i=s?"[selected]":":checked",a;if(e.multiple)a=[].map.call(e.querySelectorAll(i),dn);else{var o=e.querySelector(i)??e.querySelector("option:not([disabled])");a=o&&dn(o)}r(a)}),kn(()=>{var s=t();if(Wn(e,s,n),n&&s===void 0){var i=e.querySelector(":checked");i!==null&&(s=dn(i),r(s))}e.__value=s,n=!1}),Ba(e)}function Yl(e,t){for(var r of e.options)r.selected=~t.indexOf(dn(r))}function dn(e){return"__value"in e?e.__value:e.value}function mn(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function xr(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function ft(e=!1){const t=Ee,r=t.l.u;if(!r)return;let n=()=>ir(t.s);if(e){let s=0,i={};const a=vn(()=>{let o=!1;const l=t.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],o=!0);return o&&s++,s});n=()=>u(a)}r.b.length&&nl(()=>{vi(t,n),ks(r.b)}),Es(()=>{const s=$t(()=>r.m.map(Po));return()=>{for(const i of s)typeof i=="function"&&i()}}),r.a.length&&Es(()=>{vi(t,n),ks(r.a)})}function vi(e,t){if(e.l.s)for(const r of e.l.s)u(r);t()}function Wa(e,t){var i;var r=(i=e.$$events)==null?void 0:i[t.type],n=yn(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,t)}function Ha(e,t,r){if(e==null)return t(void 0),It;const n=$t(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Rr=[];function ts(e,t=It){let r=null;const n=new Set;function s(o){if(fa(e,o)&&(e=o,r)){const l=!Rr.length;for(const c of n)c[1](),Rr.push(c,e);if(l){for(let c=0;c<Rr.length;c+=2)Rr[c][0](Rr[c+1]);Rr.length=0}}}function i(o){s(o(e))}function a(o,l=It){const c=[o,l];return n.add(c),n.size===1&&(r=t(s,i)||It),o(e),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:a}}function Jl(e){let t;return Ha(e,r=>t=r)(),t}let Tn=!1,Cs=Symbol();function Ar(e,t,r){const n=r[t]??(r[t]={store:null,source:R(void 0),unsubscribe:It});if(n.store!==e&&!(Cs in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=It;else{var s=!0;n.unsubscribe=Ha(e,i=>{s?n.source.v=i:$(n.source,i)}),s=!1}return e&&Cs in r?Jl(e):u(n.source)}function Cr(){const e={};function t(){zs(()=>{for(var r in e)e[r].unsubscribe();ia(e,Cs,{enumerable:!1,value:!0})})}return[e,t]}function Kl(e){var t=Tn;try{return Tn=!1,[e(),Tn]}finally{Tn=t}}const Ql={get(e,t){if(!e.exclude.includes(t))return u(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,r){return t in e.special||(e.special[t]=te({get[t](){return e.props[t]}},t,ga)),e.special[t](r),ni(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),ni(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Re(e,t){return new Proxy({props:e,exclude:t,special:{},version:Vr(0)},Ql)}const Xl={get(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(Br(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(e,t,r){let n=e.props.length;for(;n--;){let s=e.props[n];Br(s)&&(s=s());const i=hr(s,t);if(i&&i.set)return i.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(Br(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=hr(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===Jt||t===da)return!1;for(let r of e.props)if(Br(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props){Br(r)&&(r=r());for(const n in r)t.includes(n)||t.push(n)}return t}};function Ge(...e){return new Proxy({props:e},Xl)}function gi(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function te(e,t,r,n){var U;var s=(r&qo)!==0,i=!Zr||(r&Bo)!==0,a=(r&Wo)!==0,o=(r&Ho)!==0,l=!1,c;a?[c,l]=Kl(()=>e[t]):c=e[t];var d=Jt in e||da in e,g=a&&(((U=hr(e,t))==null?void 0:U.set)??(d&&t in e&&(C=>e[t]=C)))||void 0,f=n,w=!0,p=!1,_=()=>(p=!0,w&&(w=!1,o?f=$t(n):f=n),f);c===void 0&&n!==void 0&&(g&&i&&Ro(),c=_(),g&&g(c));var v;if(i)v=()=>{var C=e[t];return C===void 0?_():(w=!0,p=!1,C)};else{var k=(s?vn:ce)(()=>e[t]);k.f|=ca,v=()=>{var C=u(k);return C!==void 0&&(f=void 0),C===void 0?f:C}}if((r&ga)===0)return v;if(g){var b=e.$$legacy;return function(C,K){return arguments.length>0?((!i||!K||b||l)&&g(K?v():C),C):v()}}var y=!1,S=!1,E=R(c),O=vn(()=>{var C=v(),K=u(E);return y?(y=!1,S=!0,K):(S=!1,E.v=C)});return a&&u(O),s||(O.equals=Ns),function(C,K){if(or!==null&&(y=S,v(),u(E)),arguments.length>0){const B=K?u(O):i&&a?Sr(C):C;if(!O.equals(B)){if(y=!0,$(E,B),p&&f!==void 0&&(f=B),gi(O))return C;$t(()=>u(O))}return C}return gi(O)?O.v:u(O)}}function Xt(e){Ee===null&&pa(),Zr&&Ee.l!==null?ec(Ee).m.push(e):Es(()=>{const t=$t(e);if(typeof t=="function")return t})}function Zl(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function Hs(){const e=Ee;return e===null&&pa(),(t,r,n)=>{var i;const s=(i=e.s.$$events)==null?void 0:i[t];if(s){const a=yn(s)?s.slice():[s],o=Zl(t,r,n);for(const l of a)l.call(e.x,o);return!o.defaultPrevented}return!0}}function ec(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const tc="5";var sa;typeof window<"u"&&((sa=window.__svelte??(window.__svelte={})).v??(sa.v=new Set)).add(tc);Uo();const rc="modulepreload",nc=function(e){return"/"+e},pi={},sc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let a=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=a(r.map(c=>{if(c=nc(c),c in pi)return;pi[c]=!0;const d=c.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":rc,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((w,p)=>{f.addEventListener("load",w),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var _i;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_i||(_i={}));function ic(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ac(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var tt={},Ir={},Dr={},Nr={},Mr={},Ur={},oc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kr=oc();const lc=Kr.fetch,cc=Kr.fetch.bind(Kr),uc=Kr.Headers,dc=Kr.Request,hc=Kr.Response,Va=Object.freeze(Object.defineProperty({__proto__:null,Headers:uc,Request:dc,Response:hc,default:cc,fetch:lc},Symbol.toStringTag,{value:"Module"})),fc=ac(Va);var On={},mi;function Ga(){if(mi)return On;mi=1,Object.defineProperty(On,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return On.default=e,On}var wi;function Ya(){if(wi)return Ur;wi=1;var e=Ur&&Ur.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ur,"__esModule",{value:!0});const t=e(fc),r=e(Ga());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=Object.assign({},this.headers),this.headers[i]=a,this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,g,f;let w=null,p=null,_=null,v=c.status,k=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=E:p=JSON.parse(E))}const y=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(g=c.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");y&&S&&S.length>1&&(_=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(w={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,_=null,v=406,k="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const y=await c.text();try{w=JSON.parse(y),Array.isArray(w)&&c.status===404&&(p=[],w=null,v=200,k="OK")}catch{c.status===404&&y===""?(v=204,k="No Content"):w={message:y}}if(w&&this.isMaybeSingle&&(!((f=w==null?void 0:w.details)===null||f===void 0)&&f.includes("0 rows"))&&(w=null,v=200,k="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:p,count:_,status:v,statusText:k}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,g,f;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(g=c==null?void 0:c.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}}return Ur.default=n,Ur}var yi;function Ja(){if(yi)return Mr;yi=1;var e=Mr&&Mr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mr,"__esModule",{value:!0});const t=e(Ya());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var d;const g=[s?"analyze":null,i?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${g};`,c==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Mr.default=r,Mr}var bi;function Vs(){if(bi)return Nr;bi=1;var e=Nr&&Nr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Nr,"__esModule",{value:!0});const t=e(Ja());class r extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const a=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:a,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(s,i,a){return this.url.searchParams.append(s,`not.${i}.${a}`),this}or(s,{foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,i,a){return this.url.searchParams.append(s,`${i}.${a}`),this}}return Nr.default=r,Nr}var xi;function Ka(){if(xi)return Dr;xi=1;var e=Dr&&Dr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Dr,"__esModule",{value:!0});const t=e(Vs());class r{constructor(s,{headers:i={},schema:a,fetch:o}){this.url=s,this.headers=i,this.schema=a,this.fetch=o}select(s,{head:i=!1,count:a}={}){const o=i?"HEAD":"GET";let l=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),a&&(this.headers.Prefer=`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:a=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(c.length>0){const d=[...new Set(c)].map(g=>`"${g}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){const c="POST",d=[`resolution=${a?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(s)){const g=s.reduce((f,w)=>f.concat(Object.keys(w)),[]);if(g.length>0){const f=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const a="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",a=[];return s&&a.push(`count=${s}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Dr.default=r,Dr}var on={},ln={},ki;function vc(){return ki||(ki=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.version=void 0,ln.version="0.0.0-automated"),ln}var $i;function gc(){if($i)return on;$i=1,Object.defineProperty(on,"__esModule",{value:!0}),on.DEFAULT_HEADERS=void 0;const e=vc();return on.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},on}var Si;function pc(){if(Si)return Ir;Si=1;var e=Ir&&Ir.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ir,"__esModule",{value:!0});const t=e(Ka()),r=e(Vs()),n=gc();class s{constructor(a,{headers:o={},schema:l,fetch:c}={}){this.url=a,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),o),this.schemaName=l,this.fetch=c}from(a){const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:c=!1,count:d}={}){let g;const f=new URL(`${this.url}/rpc/${a}`);let w;l||c?(g=l?"HEAD":"GET",Object.entries(o).filter(([_,v])=>v!==void 0).map(([_,v])=>[_,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([_,v])=>{f.searchParams.append(_,v)})):(g="POST",w=o);const p=Object.assign({},this.headers);return d&&(p.Prefer=`count=${d}`),new r.default({method:g,url:f,headers:p,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Ir.default=s,Ir}var Ei;function _c(){if(Ei)return tt;Ei=1;var e=tt&&tt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(tt,"__esModule",{value:!0}),tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;const t=e(pc());tt.PostgrestClient=t.default;const r=e(Ka());tt.PostgrestQueryBuilder=r.default;const n=e(Vs());tt.PostgrestFilterBuilder=n.default;const s=e(Ja());tt.PostgrestTransformBuilder=s.default;const i=e(Ya());tt.PostgrestBuilder=i.default;const a=e(Ga());return tt.PostgrestError=a.default,tt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:a.default},tt}var mc=_c();const wc=ic(mc),{PostgrestClient:Nv,PostgrestQueryBuilder:Mv,PostgrestFilterBuilder:Uv,PostgrestTransformBuilder:zv,PostgrestBuilder:Fv,PostgrestError:qv}=wc,yc="2.11.2",Bv={"X-Client-Info":`realtime-js/${yc}`};var Pi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pi||(Pi={}));var Ti;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ti||(Ti={}));var Oi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Oi||(Oi={}));var Ai;(function(e){e.websocket="websocket"})(Ai||(Ai={}));var Ci;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ci||(Ci={}));var ji;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ji||(ji={}));var Li;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Li||(Li={}));var Ri;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ri||(Ri={}));var Ii;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ii||(Ii={}));var Di;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Di||(Di={}));const bc="2.7.1",Wv={"X-Client-Info":`storage-js/${bc}`};const xc="2.49.4";let un="";typeof Deno<"u"?un="deno":typeof document<"u"?un="web":typeof navigator<"u"&&navigator.product==="ReactNative"?un="react-native":un="node";const Hv={"X-Client-Info":`supabase-js-${un}/${xc}`};const Qa="2.69.1",Wr=30*1e3,js=3,vs=js*Wr,kc="http://localhost:9999",$c="supabase.auth.token",Sc={"X-Client-Info":`gotrue-js/${Qa}`},Ls="X-Supabase-Api-Version",Xa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ec=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pc=6e5;class Gs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Tc extends Gs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Oc(e){return ee(e)&&e.name==="AuthApiError"}class Za extends Gs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class gr extends Gs{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class nr extends gr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ac(e){return ee(e)&&e.name==="AuthSessionMissingError"}class gs extends gr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class An extends gr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Cn extends gr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cc(e){return ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ni extends gr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rs extends gr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ps(e){return ee(e)&&e.name==="AuthRetryableFetchError"}class Mi extends gr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hn extends gr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zi=` 	
\r=`.split(""),jc=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zi.length;t+=1)e[zi[t].charCodeAt(0)]=-2;for(let t=0;t<Ui.length;t+=1)e[Ui[t].charCodeAt(0)]=t;return e})();function eo(e,t,r){const n=jc[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fi(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Ic(a,n,r)};for(let a=0;a<e.length;a+=1)eo(e.charCodeAt(a),s,i);return t.join("")}function Lc(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Rc(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Lc(n,t)}}function Ic(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Dc(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)eo(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Nc(e){const t=[];return Rc(e,r=>t.push(r)),new Uint8Array(t)}function Mc(e){return Math.round(Date.now()/1e3)+e}function Uc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nt=()=>typeof window<"u"&&typeof document<"u",br={tested:!1,writable:!1},fn=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(br.tested)return br.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),br.tested=!0,br.writable=!0}catch{br.tested=!0,br.writable=!1}return br.writable};function zc(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const to=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>sc(async()=>{const{default:n}=await Promise.resolve().then(()=>Va);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Fc=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ro=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},jn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ln=async(e,t)=>{await e.removeItem(t)};class rs{constructor(){this.promise=new rs.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}rs.promiseConstructor=Promise;function _s(e){const t=e.split(".");if(t.length!==3)throw new hn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ec.test(t[n]))throw new hn("JWT not in base64url format");return{header:JSON.parse(Fi(t[0])),payload:JSON.parse(Fi(t[1])),signature:Dc(t[2]),raw:{header:t[0],payload:t[1]}}}async function qc(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Bc(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Wc(e){return("0"+e.toString(16)).substr(-2)}function Hc(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Wc).join("")}async function Vc(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Gc(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Vc(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zr(e,t,r=!1){const n=Hc();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ro(e,`${t}-code-verifier`,s);const i=await Gc(n);return[i,n===i?"plain":"s256"]}const Yc=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jc(e){const t=e.headers.get(Ls);if(!t||!t.match(Yc))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kc(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Qc(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Xc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const kr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zc=[502,503,504];async function qi(e){var t;if(!Fc(e))throw new Rs(kr(e),0);if(Zc.includes(e.status))throw new Rs(kr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Za(kr(i),i)}let n;const s=Jc(e);if(s&&s.getTime()>=Xa["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mi(kr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new nr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Mi(kr(r),e.status,r.weak_password.reasons);throw new Tc(kr(r),e.status||500,n)}const eu=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ie(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ls]||(i[Ls]=Xa["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await tu(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function tu(e,t,r,n,s,i){const a=eu(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new Rs(kr(l),0)}if(o.ok||await qi(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await qi(l)}}function sr(e){var t;let r=null;iu(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Mc(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Bi(e){const t=sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function lr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ru(e){return{data:e,error:null}}function nu(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Xc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function su(e){return e}function iu(e){return e.access_token&&e.refresh_token&&e.expires_in}var au=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class ou{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=to(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:lr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=au(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nu,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:lr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:su});if(d.error)throw d.error;const g=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,w=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(p=>{const _=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);c[`${v}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},g),c),error:null}}catch(c){if(ee(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:lr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:lr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:lr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}}const lu={getItem:e=>fn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{fn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{fn()&&globalThis.localStorage.removeItem(e)}};function Wi(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function cu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fr={debug:!!(globalThis&&fn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class no extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class uu extends no{}async function du(e,t,r){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}cu();const hu={url:kc,storageKey:$c,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hi(e,t,r){return await r()}class Hn{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hn.nextInstanceID,Hn.nextInstanceID+=1,this.instanceID>0&&Nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hu),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ou({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=to(s.fetch),this.lock=s.lock||Hi,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=du:this.lock=Hi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:fn()?this.storage=lu:(this.memoryStorage={},this.storage=Wi(this.memoryStorage)):(this.memoryStorage={},this.storage=Wi(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qa}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=zc(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Nt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Cc(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ee(r)?{error:r}:{error:new Za("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:sr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:g,options:f}=t;let w=null,p=null;this.flowType==="pkce"&&([w,p]=await zr(this.storage,this.storageKey)),i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:g,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:w,code_challenge_method:p},xform:sr})}else if("phone"in t){const{phone:d,password:g,options:f}=t;i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:g,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:sr})}else throw new An("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Bi})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Bi})}else throw new An("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await jn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:sr});if(await Ln(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ee(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:sr}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await zr(this.storage,this.storageKey));const{error:g}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new An("You must provide either an email or phone number.")}catch(o){if(ee(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:sr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await zr(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ru})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new nr;const{error:s}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new An("You must provide either an email or phone number and a type")}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await jn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vs:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:lr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nr}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:lr})})}catch(r){if(ee(r))return Ac(r)&&(await this._removeSession(),await Ln(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new nr;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await zr(this.storage,this.storageKey));const{data:c,error:d}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:lr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=_s(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ee(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new nr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Nt())throw new Cn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Cn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ni("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ni("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!a||!c)throw new Cn("No session defined in URL");const d=Math.round(Date.now()/1e3),g=parseInt(o);let f=d+g;l&&(f=parseInt(l));const w=f-d;w*1e3<=Wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const p=f-g;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:_,error:v}=await this._getUser(i);if(v)throw v;const k={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:f,refresh_token:a,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(n){if(ee(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await jn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Oc(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ln(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Uc(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await zr(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,d;const{data:g,error:f}=i;if(f)throw f;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",w,{headers:this.headers,jwt:(d=(c=g.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Nt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ee(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Bc(async s=>(s>0&&await qc(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ps(i)&&Date.now()+a-n<Wr})}catch(n){if(this._debug(r,"error",n),ee(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await jn(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vs;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${vs}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),ps(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new rs;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new nr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),ee(i)){const a={session:null,error:i};return ps(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ro(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ln(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wr}ms, refresh threshold is ${js} ticks`),s<=js&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof no)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await zr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(ee(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ee(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=_s(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Pc>Date.now()))return n;const{data:s,error:i}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new hn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new hn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:w,error:p}=await this.getSession();if(p||!w.session)return{data:null,error:p};n=w.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=_s(n);if(Kc(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:i,header:s,signature:a},error:null}}const c=Qc(s.alg),d=await this.fetchJwk(s.kid,r),g=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,g,a,Nc(`${o}.${l}`)))throw new hn("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}}Hn.nextInstanceID=0;const fu=void 0,vu=void 0;console.error("Supabase URL 또는 Anonymous Key가 설정되지 않았습니다. 환경 변수를 올바르게 설정해주세요: VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY");let gu=null;try{if(!(fu&&vu))throw new Error("Supabase URL과 Anon Key가 필요합니다.")}catch(e){throw console.error("Supabase 클라이언트 생성 실패:",e),e}const le=gu,ms={fromSupabase:{event:e=>({id:e.id,title:e.title,description:e.description,organizer:e.organizer,category:e.category,reservationStart:e.reservation_start?new Date(e.reservation_start):null,reservationPlatform:e.reservation_platform,reservationLink:e.reservation_link,createdAt:e.created_at?new Date(e.created_at):null,updatedAt:e.updated_at?new Date(e.updated_at):null,hasNotification:!1}),note:e=>({id:e.id,userId:e.user_id,eventId:e.event_id,content:e.content,createdAt:e.created_at?new Date(e.created_at):null,updatedAt:e.updated_at?new Date(e.updated_at):null}),notification:e=>({id:e.id,userId:e.user_id,eventId:e.event_id,type:e.type,minutesBefore:e.minutes_before,createdAt:e.created_at?new Date(e.created_at):null,updatedAt:e.updated_at?new Date(e.updated_at):null})},toSupabase:{event:e=>({id:e.id,title:e.title,description:e.description,organizer:e.organizer,category:e.category,reservation_start:e.reservationStart,reservation_platform:e.reservationPlatform,reservation_link:e.reservationLink}),note:e=>({id:e.id,user_id:e.userId,event_id:e.eventId,content:e.content}),notification:e=>({id:e.id,user_id:e.userId,event_id:e.eventId,type:e.type,minutes_before:e.minutesBefore})}},Vi=async()=>{if(!le)throw new Error("Supabase 클라이언트가 초기화되지 않았습니다.");try{const{data:e,error:t}=await le.auth.getUser();if(t){if(t.name==="AuthSessionMissingError")return console.log("비로그인 사용자입니다. 제한된 기능을 제공합니다."),null;throw console.error("사용자 정보를 가져오는 중 오류 발생:",t),Gi("AUTH_GET_USER_ERROR","사용자 정보를 가져오는 중 오류가 발생했습니다.",t)}return(e==null?void 0:e.user)||null}catch(e){if(e instanceof Error&&e.name==="AuthSessionMissingError")return console.log("비로그인 사용자입니다. 제한된 기능을 제공합니다."),null;throw console.error("현재 사용자 확인 중 예외 발생:",e),Gi("AUTH_UNEXPECTED_ERROR","사용자 확인 중 예기치 않은 오류가 발생했습니다.",e)}};function Gi(e,t,r){return{code:e,message:t,details:r}}const pu={isLoggedIn:!1,isLoading:!0,user:null,error:null};function _u(){const{subscribe:e,set:t,update:r}=ts(pu),n=async()=>{var l,c;try{r(g=>({...g,isLoading:!0,error:null}));const d=await Vi();if(d){const{data:g,error:f}=await le.from("resv_profiles").select("role").eq("id",d.id).single();f&&console.error("프로필 정보를 가져오는데 실패했습니다:",f.message);const w={id:d.id,email:d.email||void 0,fullName:(l=d.user_metadata)==null?void 0:l.full_name,avatarUrl:(c=d.user_metadata)==null?void 0:c.avatar_url,role:(g==null?void 0:g.role)||"user"};t({isLoggedIn:!0,isLoading:!1,user:w,error:null})}else t({isLoggedIn:!1,isLoading:!1,user:null,error:null})}catch(d){r(g=>({...g,isLoading:!1,error:d instanceof Error?d.message:"인증 상태를 확인하는 중 오류가 발생했습니다"}))}},s=async()=>{try{const l=await Vi();if(!l)return{isAdmin:!1};const{data:c,error:d}=await le.from("resv_profiles").select("role").eq("id",l.id).single();if(d)throw d;return{isAdmin:c&&["admin","super_admin"].includes(c.role),role:c==null?void 0:c.role}}catch(l){return console.error("관리자 권한 확인 중 오류:",l),{isAdmin:!1}}},i=async()=>{try{r(c=>({...c,isLoading:!0,error:null}));const{error:l}=await le.auth.signInWithOAuth({provider:"kakao",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(l)throw l}catch(l){r(c=>({...c,isLoading:!1,error:l instanceof Error?l.message:"로그인 중 오류가 발생했습니다"}))}},a=async()=>{try{r(c=>({...c,isLoading:!0,error:null}));const{error:l}=await le.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(l)throw l}catch(l){r(c=>({...c,isLoading:!1,error:l instanceof Error?l.message:"구글 로그인 중 오류가 발생했습니다"}))}},o=async()=>{try{r(c=>({...c,isLoading:!0,error:null}));const{error:l}=await le.auth.signOut();if(l)throw l;t({isLoggedIn:!1,isLoading:!1,user:null,error:null})}catch(l){r(c=>({...c,isLoading:!1,error:l instanceof Error?l.message:"로그아웃 중 오류가 발생했습니다"}))}};return le.auth.onAuthStateChange((l,c)=>{l==="SIGNED_IN"&&c?n():l==="SIGNED_OUT"&&t({isLoggedIn:!1,isLoading:!1,user:null,error:null})}),n(),{subscribe:e,login:i,loginWithGoogle:a,logout:o,refresh:n,checkAdminAccess:s}}const nt=_u();var mu=P("<button><!></button>");function Le(e,t){let r=te(t,"type",8,"button"),n=te(t,"variant",8,"primary"),s=te(t,"size",8,"md"),i=te(t,"disabled",8,!1),a=te(t,"fullWidth",8,!1),o=te(t,"onClick",8,void 0),l=te(t,"className",8,"");const c=()=>{const f="inline-flex items-center justify-center gap-2 font-medium rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",w={primary:"bg-[#3B82F6] text-white hover:bg-[#2563EB] focus:ring-blue-500",secondary:"bg-[#10B981] text-white hover:bg-[#059669] focus:ring-green-500",outline:"bg-transparent border border-gray-300 text-[#374151] hover:bg-gray-50 focus:ring-[#3B82F6]",text:"bg-transparent text-[#3B82F6] hover:bg-gray-50 focus:ring-[#3B82F6]",ghost:"bg-transparent hover:bg-gray-100 text-[#374151]",icon:"bg-transparent text-[#374151] hover:bg-gray-100 rounded-full p-1"},p={sm:"py-1 px-2 text-sm",md:"py-2 px-4 text-base",lg:"py-3 px-6 text-lg",icon:"h-9 w-9 p-0"},_=a()?"w-full":"max-w-fit",v=i()?"opacity-50 cursor-not-allowed":"cursor-pointer";return`${f} ${w[n()]} ${p[s()]} ${_} ${v} ${l()}`};var d=mu(),g=h(d);Ce(g,t,"default",{}),z(f=>{ur(d,"type",r()),st(d,1,f),d.disabled=i()},[()=>Bn(c())],ce),D("click",d,function(...f){var w;(w=o())==null||w.apply(this,f)}),D("click",d,function(f){Wa.call(this,t,f)}),x(e,d)}/**
 * @license lucide-svelte v0.507.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const wu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var yu=Tl("<svg><!><!></svg>");function Ye(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]),n=Re(r,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);at(t,!1);let s=te(t,"name",8,void 0),i=te(t,"color",8,"currentColor"),a=te(t,"size",8,24),o=te(t,"strokeWidth",8,2),l=te(t,"absoluteStrokeWidth",8,!1),c=te(t,"iconNode",24,()=>[]);const d=(..._)=>_.filter((v,k,b)=>!!v&&b.indexOf(v)===k).join(" ");ft();var g=yu();let f;var w=h(g);xt(w,1,c,qt,(_,v)=>{let k=()=>u(v)[0],b=()=>u(v)[1];var y=ye(),S=V(y);Nl(S,k,!0,(E,O)=>{let U;z(()=>U=di(E,U,{...b()}))}),x(_,y)});var p=m(w);Ce(p,t,"default",{}),z((_,v)=>f=di(g,f,{...wu,...n,width:a(),height:a(),stroke:i(),"stroke-width":_,class:v}),[()=>l()?Number(o())*24/Number(a()):o(),()=>d("lucide-icon","lucide",s()?`lucide-${s()}`:"",r.class)],ce),x(e,g),ot()}function so(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"bell-off"},()=>r,{iconNode:[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742"}],["path",{d:"m2 2 20 20"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function Ys(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"bell"},()=>r,{iconNode:[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function io(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"calendar"},()=>r,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function bu(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"chevron-down"},()=>r,{iconNode:[["path",{d:"m6 9 6 6 6-6"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function Js(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function xu(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"chevron-up"},()=>r,{iconNode:[["path",{d:"m18 15-6-6-6 6"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function ws(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"clock"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function ku(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"download"},()=>r,{iconNode:[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["polyline",{points:"7 10 12 15 17 10"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function ao(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"external-link"},()=>r,{iconNode:[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function $u(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"funnel"},()=>r,{iconNode:[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function Su(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"globe"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function Eu(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"house"},()=>r,{iconNode:[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function Pu(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"log-in"},()=>r,{iconNode:[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}],["polyline",{points:"10 17 15 12 10 7"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function oo(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"log-out"},()=>r,{iconNode:[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function Tu(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"moon"},()=>r,{iconNode:[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function Yi(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"plus"},()=>r,{iconNode:[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function Ou(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"settings"},()=>r,{iconNode:[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function Au(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"shield"},()=>r,{iconNode:[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function lo(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"user"},()=>r,{iconNode:[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}function Cu(e,t){const r=Re(t,["children","$$slots","$$events","$$legacy"]);Ye(e,Ge({name:"x"},()=>r,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(s,i)=>{var a=ye(),o=V(a);Ce(o,t,"default",{}),x(s,a)},$$slots:{default:!0}}))}var ju=P("<!> 앱 설치",1),Lu=P("<!> 로그아웃",1),Ru=P("<!> 로그인",1),Iu=P('<header class="bg-white border-b border-gray-200 py-3 mb-6"><div class="container-app flex justify-between items-center"><div class="logo cursor-pointer svelte-1wug9ul" tabindex="0" role="button"><h1 class="text-xl font-bold text-blue-600">PopItGo</h1></div> <div class="flex items-center gap-3"><!> <!></div></div></header>');function Du(e,t){at(t,!1);let r=R(!1),n=R(null),s=R(!1);Xt(()=>{window.addEventListener("beforeinstallprompt",y=>{y.preventDefault(),$(n,y)}),window.addEventListener("appinstalled",()=>{$(r,!0),$(n,null)}),window.matchMedia("(display-mode: standalone)").matches&&$(r,!0);const b=nt.subscribe(y=>{var S;$(s,y.isLoggedIn),(S=y.user)!=null&&S.email,y.isLoading});return()=>{b()}});async function i(){if(!u(n))return;u(n).prompt();const{outcome:b}=await u(n).userChoice;$(n,null),b==="accepted"&&$(r,!0)}function a(){window.location.href="/"}function o(){window.location.href="/login"}function l(){nt.logout(),window.location.href="/"}ft();var c=Iu(),d=h(c),g=h(d),f=m(g,2),w=h(f);{var p=b=>{Le(b,{variant:"outline",size:"sm",onClick:i,children:(y,S)=>{var E=ju(),O=V(E);ku(O,{size:16,class:"mr-1"}),x(y,E)},$$slots:{default:!0}})};M(w,b=>{!u(r)&&u(n)&&b(p)})}var _=m(w,2);{var v=b=>{Le(b,{variant:"outline",size:"sm",onClick:l,children:(y,S)=>{var E=Lu(),O=V(E);oo(O,{size:16,class:"mr-1"}),x(y,E)},$$slots:{default:!0}})},k=b=>{Le(b,{variant:"outline",size:"sm",onClick:o,children:(y,S)=>{var E=Ru(),O=V(E);Pu(O,{size:16,class:"mr-1"}),x(y,E)},$$slots:{default:!0}})};M(_,b=>{u(s)?b(v):b(k,!1)})}D("click",g,a),D("keydown",g,b=>b.key==="Enter"&&a()),x(e,c),ot()}const Nu="PopItGo",Mu="0.1.0.0";var Uu=P('<footer class="mt-auto bg-neutral-800 text-white py-4"><div class="container-app text-center text-sm"><p></p></div></footer> <nav class="bottom-nav svelte-182kl9v"><button><!> <span class="svelte-182kl9v">홈</span></button> <button><!> <span class="svelte-182kl9v">이벤트</span></button> <button><!> <span class="svelte-182kl9v">예약</span></button> <button><!> <span class="svelte-182kl9v">설정</span></button></nav>',1);function zu(e,t){at(t,!1);const[r,n]=Cr(),s=()=>Ar(a,"$activeTab",r),i=new Date().getFullYear(),a=ts("home");(B=>{if(B==="/")a.set("home");else if(B.startsWith("/events")){const T=new URLSearchParams(window.location.search);T.has("tab")&&T.get("tab")==="my-reservations"?a.set("bookings"):a.set("events")}else B.startsWith("/settings")&&a.set("settings")})(window.location.pathname);function l(B,T){a.set(T),window.location.href=B}ft();var c=Uu(),d=V(c),g=h(d),f=h(g);f.textContent=`© ${i??""} ${Nu} v${Mu}`;var w=m(d,2),p=h(w);let _;var v=h(p);Eu(v,{size:24});var k=m(p,2);let b;var y=h(k);io(y,{size:24});var S=m(k,2);let E;var O=h(S);lo(O,{size:24});var U=m(S,2);let C;var K=h(U);Ou(K,{size:24}),z((B,T,H,A)=>{_=st(p,1,"svelte-182kl9v",null,_,B),b=st(k,1,"svelte-182kl9v",null,b,T),E=st(S,1,"svelte-182kl9v",null,E,H),C=st(U,1,"svelte-182kl9v",null,C,A)},[()=>({active:s()==="home"}),()=>({active:s()==="events"}),()=>({active:s()==="bookings"}),()=>({active:s()==="settings"})],ce),D("click",p,()=>l("/","home")),D("click",k,()=>l("/events","events")),D("click",S,()=>l("/events?tab=my-reservations","bookings")),D("click",U,()=>l("/settings","settings")),x(e,c),ot(),n()}const Fu={events:[],isLoading:!1,error:null,filter:{}};function qu(){const{subscribe:e,set:t,update:r}=ts(Fu),n=async()=>{var p;r(_=>({..._,isLoading:!0,error:null}));try{const{data:_,error:v}=await le.from("resv_events").select("*").order("reservation_start",{ascending:!0});if(v)throw v;if(!_||_.length===0){r(y=>({...y,events:[],isLoading:!1}));return}const k=_.map(y=>({id:y.id,title:y.title,description:y.description,organizer:y.organizer,category:y.category,reservationStart:y.reservation_start,reservationPlatform:y.reservation_platform,reservationLink:y.reservation_link,hasNotification:!1,createdAt:y.created_at,updatedAt:y.updated_at})),b=await le.auth.getUser();if((p=b.data)!=null&&p.user)try{const{data:y,error:S}=await le.from("resv_notifications").select("event_id").eq("user_id",b.data.user.id);if(!S&&y&&y.length>0){const E=new Set(y.map(O=>O.event_id));console.log("사용자의 알림이 설정된 이벤트 목록:",Array.from(E)),k.forEach(O=>{O.hasNotification=E.has(O.id),O.hasNotification&&console.log(`이벤트 '${O.title}'에 알림이 설정됨`)})}else console.log("알림 정보가 없거나 가져오는 중 오류가 발생했습니다:",S)}catch(y){console.error("알림 정보 가져오기 오류:",y)}r(y=>({...y,events:k,isLoading:!1}))}catch(_){console.error("이벤트 목록 가져오기 오류:",_),r(v=>({...v,isLoading:!1,error:_ instanceof Error?_.message:"이벤트를 불러오는 중 오류가 발생했습니다"}))}},s=async p=>{r(_=>({..._,isLoading:!0,error:null}));try{const{data:_,error:v}=await le.from("resv_events").insert([{title:p.title,description:p.description,organizer:p.organizer,category:p.category,reservation_start:p.reservationStart,reservation_platform:p.reservationPlatform,reservation_link:p.reservationLink}]).select().single();if(v)throw v;const k={id:_.id,title:_.title,description:_.description,organizer:_.organizer,category:_.category,reservationStart:_.reservation_start,reservationPlatform:_.reservation_platform,reservationLink:_.reservation_link,hasNotification:!1,createdAt:_.created_at,updatedAt:_.updated_at};return r(b=>({...b,events:[...b.events,k],isLoading:!1})),k}catch(_){throw r(v=>({...v,isLoading:!1,error:_ instanceof Error?_.message:"이벤트를 추가하는 중 오류가 발생했습니다"})),_}},i=async(p,_)=>{r(v=>({...v,isLoading:!0,error:null}));try{const{data:v,error:k}=await le.from("resv_events").update({title:_.title,description:_.description,organizer:_.organizer,category:_.category,reservation_start:_.reservationStart,reservation_platform:_.reservationPlatform,reservation_link:_.reservationLink}).eq("id",p).select().single();if(k)throw k;const b=await c(p),y=(b==null?void 0:b.hasNotification)||!1,S={id:v.id,title:v.title,description:v.description,organizer:v.organizer,category:v.category,reservationStart:v.reservation_start,reservationPlatform:v.reservation_platform,reservationLink:v.reservation_link,hasNotification:y,createdAt:v.created_at,updatedAt:v.updated_at};return r(E=>({...E,events:E.events.map(O=>O.id===p?S:O),isLoading:!1})),S}catch(v){throw r(k=>({...k,isLoading:!1,error:v instanceof Error?v.message:"이벤트를 수정하는 중 오류가 발생했습니다"})),v}},a=async p=>{r(_=>({..._,isLoading:!0,error:null}));try{const{error:_}=await le.from("resv_events").delete().eq("id",p);if(_)throw _;r(v=>({...v,events:v.events.filter(k=>k.id!==p),isLoading:!1}))}catch(_){throw r(v=>({...v,isLoading:!1,error:_ instanceof Error?_.message:"이벤트를 삭제하는 중 오류가 발생했습니다"})),_}},o=p=>{r(_=>({..._,filter:{..._.filter,...p}}))},l=async p=>{r(_=>({..._,isLoading:!0,error:null}));try{const v=(await new Promise(k=>{const b=e(y=>{k(y),b()})})).events.find(k=>k.id===p);if(!v)throw new Error("이벤트를 찾을 수 없습니다.");if(v.hasNotification){const{error:k}=await le.from("resv_notifications").delete().eq("event_id",p);if(k)throw k}else{const{error:k}=await le.from("resv_notifications").insert([{event_id:p,type:"reservation_start",minutes_before:30}]);if(k)throw k}r(k=>({...k,events:k.events.map(b=>b.id===p?{...b,hasNotification:!b.hasNotification}:b),isLoading:!1}))}catch(_){throw console.error("알림 설정 오류:",_),r(v=>({...v,isLoading:!1,error:_ instanceof Error?_.message:"알림 설정을 변경하는 데 실패했습니다."})),_}},c=async p=>{var _;try{const{data:v,error:k}=await le.from("resv_events").select("*, resv_notifications(id)").eq("id",p).single();if(k)throw k;if(!v)return null;const b={id:v.id,title:v.title,description:v.description,organizer:v.organizer,category:v.category,reservationStart:v.reservation_start,reservationPlatform:v.reservation_platform,reservationLink:v.reservation_link,hasNotification:v.notifications&&v.notifications.length>0,createdAt:v.created_at,updatedAt:v.updated_at},y=await le.auth.getUser();if((_=y.data)!=null&&_.user){const{data:S}=await le.from("resv_notifications").select("*").eq("event_id",p).eq("user_id",y.data.user.id).single();b.hasNotification=!!S}return b}catch(v){throw console.error("이벤트 상세 정보를 가져오는 중 오류 발생:",v),v}};return{subscribe:e,fetchEvents:n,addEvent:s,updateEvent:i,deleteEvent:a,setFilter:o,toggleNotification:l,getEventById:c,setNotification:async(p,_)=>{var v;try{const k=await le.auth.getUser();if(!((v=k.data)!=null&&v.user))throw new Error("로그인이 필요합니다.");const b={userId:k.data.user.id,eventId:p,type:"reservation_start",minutesBefore:_},{error:y}=await le.from("resv_notifications").upsert([ms.toSupabase.notification(b)]);if(y)throw y}catch(k){throw console.error("알림 설정 중 오류 발생:",k),k}},removeNotification:async p=>{var _;try{const v=await le.auth.getUser();if(!((_=v.data)!=null&&_.user))throw new Error("로그인이 필요합니다.");const{error:k}=await le.from("resv_notifications").delete().eq("event_id",p).eq("user_id",v.data.user.id);if(k)throw k}catch(v){throw console.error("알림 해제 중 오류 발생:",v),v}},getNoteForEvent:async p=>{var _;try{const v=await le.auth.getUser();if(!((_=v.data)!=null&&_.user))throw new Error("로그인이 필요합니다.");const{data:k,error:b}=await le.from("resv_notes").select("*").eq("event_id",p).eq("user_id",v.data.user.id).single();if(b){if(b.code==="PGRST116")return null;throw b}const y=ms.fromSupabase.note(k);return y.createdAt===null&&(y.createdAt=new Date),y.updatedAt===null&&(y.updatedAt=new Date),y}catch(v){return console.error("메모를 가져오는 중 오류 발생:",v),null}},saveNoteForEvent:async(p,_)=>{var v;try{const k=await le.auth.getUser();if(!((v=k.data)!=null&&v.user))throw new Error("로그인이 필요합니다.");const b={userId:k.data.user.id,eventId:p,content:_},{error:y}=await le.from("resv_notes").upsert([ms.toSupabase.note(b)]);if(y)throw y}catch(k){throw console.error("메모 저장 중 오류 발생:",k),k}}}}const Rt=qu();var Bu=P('<div role="button" tabindex="0"><!></div>'),Wu=P("<div><!></div>");function dr(e,t){at(t,!1);let r=te(t,"padding",8,"md"),n=te(t,"shadow",8,"md"),s=te(t,"border",8,!1),i=te(t,"rounded",8,"md"),a=te(t,"onClick",8,void 0),o=te(t,"hover",8,!1),l=te(t,"className",8,"");const c=()=>{const p="bg-white",_={none:"p-0",sm:"p-2",md:"p-4",lg:"p-6"},v={none:"",sm:"shadow-sm",md:"shadow-card",lg:"shadow-lg"},k=s()?"border border-neutral-200":"",b={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"},y=o()?"hover:shadow-lg transition-shadow cursor-pointer":"";return`${p} ${_[r()]} ${v[n()]} ${k} ${b[i()]} ${y} ${l()}`};ft();var d=ye(),g=V(d);{var f=p=>{var _=Bu(),v=h(_);Ce(v,t,"default",{}),z(k=>st(_,1,k),[()=>Bn(c())],ce),D("click",_,function(...k){var b;(b=a())==null||b.apply(this,k)}),D("keydown",_,k=>k.key==="Enter"&&a()&&a()()),x(p,_)},w=p=>{var _=Wu(),v=h(_);Ce(v,t,"default",{}),z(k=>st(_,1,k),[()=>Bn(c())],ce),x(p,_)};M(g,p=>{a()?p(f):p(w,!1)})}x(e,d),ot()}function Hu(e){const t=e-1;return t*t*t+1}function Ji(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Vu(e,{delay:t=0,duration:r=400,easing:n=Hu,x:s=0,y:i=0,opacity:a=0}={}){const o=getComputedStyle(e),l=+o.opacity,c=o.transform==="none"?"":o.transform,d=l*(1-a),[g,f]=Ji(s),[w,p]=Ji(i);return{delay:t,duration:r,easing:n,css:(_,v)=>`
			transform: ${c} translate(${(1-_)*g}${f}, ${(1-_)*w}${p});
			opacity: ${l-d*v}`}}function Gu(e){const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${s}`}function Yu(e){const t=new Date(e),r=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");return`${r}:${n}`}function Ju(e){const t=new Date(e);return`${Gu(t)} ${Yu(t)}`}function Ku(e){const t=new Date,n=new Date(e).getTime()-t.getTime();if(n<0)return"이미 지났습니다";const s=Math.floor(n/1e3),i=Math.floor(s/60),a=Math.floor(i/60),o=Math.floor(a/24);return o>0?`${o}일 후`:a>0?`${a}시간 후`:i>0?`${i}분 후`:"곧 시작"}const co=6048e5,Qu=864e5,Ki=Symbol.for("constructDateFrom");function fr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Ki in e?e[Ki](t):e instanceof Date?new e.constructor(t):new Date(t)}function Dt(e,t){return fr(t||e,e)}let Xu={};function ns(){return Xu}function wn(e,t){var o,l,c,d;const r=ns(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Dt(e,t==null?void 0:t.in),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Vn(e,t){return wn(e,{...t,weekStartsOn:1})}function uo(e,t){const r=Dt(e,t==null?void 0:t.in),n=r.getFullYear(),s=fr(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Vn(s),a=fr(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Vn(a);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Qi(e){const t=Dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Zu(e,...t){const r=fr.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Xi(e,t){const r=Dt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function ed(e,t,r){const[n,s]=Zu(r==null?void 0:r.in,e,t),i=Xi(n),a=Xi(s),o=+i-Qi(i),l=+a-Qi(a);return Math.round((o-l)/Qu)}function td(e,t){const r=uo(e,t),n=fr(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Vn(n)}function rd(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nd(e){return!(!rd(e)&&typeof e!="number"||isNaN(+Dt(e)))}function sd(e,t){const r=Dt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const id={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ad=(e,t,r)=>{let n;const s=id[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Hr(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const od={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ld={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cd={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ud={date:Hr({formats:od,defaultWidth:"full"}),time:Hr({formats:ld,defaultWidth:"full"}),dateTime:Hr({formats:cd,defaultWidth:"full"})},dd={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hd=(e,t,r,n)=>dd[e];function zt(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const fd={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vd={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gd={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pd={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_d={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},md={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wd=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yd={ordinalNumber:wd,era:zt({values:fd,defaultWidth:"wide"}),quarter:zt({values:vd,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zt({values:gd,defaultWidth:"wide"}),day:zt({values:pd,defaultWidth:"wide"}),dayPeriod:zt({values:_d,defaultWidth:"wide",formattingValues:md,defaultFormattingWidth:"wide"})};function Ft(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?xd(o,g=>g.test(a)):bd(o,g=>g.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}function bd(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function xd(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ho(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const kd=/^(\d+)(th|st|nd|rd)?/i,$d=/\d+/i,Sd={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ed={any:[/^b/i,/^(a|c)/i]},Pd={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Td={any:[/1/i,/2/i,/3/i,/4/i]},Od={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ad={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cd={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jd={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ld={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rd={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Id={ordinalNumber:ho({matchPattern:kd,parsePattern:$d,valueCallback:e=>parseInt(e,10)}),era:Ft({matchPatterns:Sd,defaultMatchWidth:"wide",parsePatterns:Ed,defaultParseWidth:"any"}),quarter:Ft({matchPatterns:Pd,defaultMatchWidth:"wide",parsePatterns:Td,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ft({matchPatterns:Od,defaultMatchWidth:"wide",parsePatterns:Ad,defaultParseWidth:"any"}),day:Ft({matchPatterns:Cd,defaultMatchWidth:"wide",parsePatterns:jd,defaultParseWidth:"any"}),dayPeriod:Ft({matchPatterns:Ld,defaultMatchWidth:"any",parsePatterns:Rd,defaultParseWidth:"any"})},Dd={code:"en-US",formatDistance:ad,formatLong:ud,formatRelative:hd,localize:yd,match:Id,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nd(e,t){const r=Dt(e,t==null?void 0:t.in);return ed(r,sd(r))+1}function Md(e,t){const r=Dt(e,t==null?void 0:t.in),n=+Vn(r)-+td(r);return Math.round(n/co)+1}function fo(e,t){var d,g,f,w;const r=Dt(e,t==null?void 0:t.in),n=r.getFullYear(),s=ns(),i=(t==null?void 0:t.firstWeekContainsDate)??((g=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(f=s.locale)==null?void 0:f.options)==null?void 0:w.firstWeekContainsDate)??1,a=fr((t==null?void 0:t.in)||e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=wn(a,t),l=fr((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=wn(l,t);return+r>=+o?n+1:+r>=+c?n:n-1}function Ud(e,t){var o,l,c,d;const r=ns(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=fo(e,t),i=fr((t==null?void 0:t.in)||e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),wn(i,t)}function zd(e,t){const r=Dt(e,t==null?void 0:t.in),n=+wn(r,t)-+Ud(r,t);return Math.round(n/co)+1}function we(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const rr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return we(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):we(r+1,2)},d(e,t){return we(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return we(e.getHours()%12||12,t.length)},H(e,t){return we(e.getHours(),t.length)},m(e,t){return we(e.getMinutes(),t.length)},s(e,t){return we(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return we(s,t.length)}},qr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zi={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return rr.y(e,t)},Y:function(e,t,r,n){const s=fo(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return we(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):we(i,t.length)},R:function(e,t){const r=uo(e);return we(r,t.length)},u:function(e,t){const r=e.getFullYear();return we(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return we(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return we(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return rr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return we(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=zd(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):we(s,t.length)},I:function(e,t,r){const n=Md(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):we(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):rr.d(e,t)},D:function(e,t,r){const n=Nd(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):we(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return we(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return we(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return we(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=qr.noon:n===0?s=qr.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=qr.evening:n>=12?s=qr.afternoon:n>=4?s=qr.morning:s=qr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return rr.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):rr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):we(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):we(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):rr.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):rr.s(e,t)},S:function(e,t){return rr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ta(n);case"XXXX":case"XX":return $r(n);case"XXXXX":case"XXX":default:return $r(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ta(n);case"xxxx":case"xx":return $r(n);case"xxxxx":case"xxx":default:return $r(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ea(n,":");case"OOOO":default:return"GMT"+$r(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ea(n,":");case"zzzz":default:return"GMT"+$r(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return we(n,t.length)},T:function(e,t,r){return we(+e,t.length)}};function ea(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+we(i,2)}function ta(e,t){return e%60===0?(e>0?"-":"+")+we(Math.abs(e)/60,2):$r(e,t)}function $r(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=we(Math.trunc(n/60),2),i=we(n%60,2);return r+s+t+i}const ra=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vo=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Fd=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return ra(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ra(n,t)).replace("{{time}}",vo(s,t))},qd={p:vo,P:Fd},Bd=/^D+$/,Wd=/^Y+$/,Hd=["D","DD","YY","YYYY"];function Vd(e){return Bd.test(e)}function Gd(e){return Wd.test(e)}function Yd(e,t,r){const n=Jd(e,t,r);if(console.warn(n),Hd.includes(e))throw new RangeError(n)}function Jd(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xd=/^'([^]*?)'?$/,Zd=/''/g,eh=/[a-zA-Z]/;function ys(e,t,r){var d,g,f,w,p,_,v,k;const n=ns(),s=(r==null?void 0:r.locale)??n.locale??Dd,i=(r==null?void 0:r.firstWeekContainsDate)??((g=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(f=n.locale)==null?void 0:f.options)==null?void 0:w.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((_=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((k=(v=n.locale)==null?void 0:v.options)==null?void 0:k.weekStartsOn)??0,o=Dt(e,r==null?void 0:r.in);if(!nd(o))throw new RangeError("Invalid time value");let l=t.match(Qd).map(b=>{const y=b[0];if(y==="p"||y==="P"){const S=qd[y];return S(b,s.formatLong)}return b}).join("").match(Kd).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:th(b)};if(Zi[y])return{isToken:!0,value:b};if(y.match(eh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Gd(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Vd(y))&&Yd(y,t,String(e));const S=Zi[y[0]];return S(o,y,s.localize,c)}).join("")}function th(e){const t=e.match(Xd);return t?t[1].replace(Zd,"'"):e}const rh={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},nh=(e,t,r)=>{let n;const s=rh[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+" 후":n+" 전":n},sh={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},ih={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ah={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},oh={date:Hr({formats:sh,defaultWidth:"full"}),time:Hr({formats:ih,defaultWidth:"full"}),dateTime:Hr({formats:ah,defaultWidth:"full"})},lh={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},ch=(e,t,r,n)=>lh[e],uh={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},dh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},hh={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},fh={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},vh={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},gh={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},ph=(e,t)=>{const r=Number(e);switch(String(t==null?void 0:t.unit)){case"minute":case"second":return String(r);case"date":return r+"일";default:return r+"번째"}},_h={ordinalNumber:ph,era:zt({values:uh,defaultWidth:"wide"}),quarter:zt({values:dh,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zt({values:hh,defaultWidth:"wide"}),day:zt({values:fh,defaultWidth:"wide"}),dayPeriod:zt({values:vh,defaultWidth:"wide",formattingValues:gh,defaultFormattingWidth:"wide"})},mh=/^(\d+)(일|번째)?/i,wh=/\d+/i,yh={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},bh={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},xh={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},kh={any:[/1/i,/2/i,/3/i,/4/i]},$h={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},Sh={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Eh={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},Ph={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},Th={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},Oh={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},Ah={ordinalNumber:ho({matchPattern:mh,parsePattern:wh,valueCallback:e=>parseInt(e,10)}),era:Ft({matchPatterns:yh,defaultMatchWidth:"wide",parsePatterns:bh,defaultParseWidth:"any"}),quarter:Ft({matchPatterns:xh,defaultMatchWidth:"wide",parsePatterns:kh,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ft({matchPatterns:$h,defaultMatchWidth:"wide",parsePatterns:Sh,defaultParseWidth:"any"}),day:Ft({matchPatterns:Eh,defaultMatchWidth:"wide",parsePatterns:Ph,defaultParseWidth:"any"}),dayPeriod:Ft({matchPatterns:Th,defaultMatchWidth:"any",parsePatterns:Oh,defaultParseWidth:"any"})},bs={code:"ko",formatDistance:nh,formatLong:oh,formatRelative:ch,localize:_h,match:Ah,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Ch=P('<div class="brand-title svelte-ih9smi"><div class="title-with-brand svelte-ih9smi"><span class="brand-name svelte-ih9smi"> </span> <h2 class="svelte-ih9smi"> </h2></div></div>'),jh=P('<h2 class="svelte-ih9smi"> </h2>'),Lh=P("<span> </span>"),Rh=P('<img width="12" height="12" class="svelte-ih9smi">'),Ih=P('<span class="platform-icon svelte-ih9smi"><!></span>'),Dh=P('<span class="reservation-count svelte-ih9smi"> </span>'),Nh=P('<p class="event-description svelte-ih9smi"> </p>'),Mh=P('<div class="reservation-seats svelte-ih9smi"> </div>'),Uh=P('<div class="reservation-memo svelte-ih9smi"> </div>'),zh=P('<div class="reservation-item svelte-ih9smi"><div class="reservation-details svelte-ih9smi"><div class="reservation-time svelte-ih9smi"><!> <span> </span> <span class="visit-minutes svelte-ih9smi"> </span></div> <!> <!></div> <button class="delete-button svelte-ih9smi">삭제</button></div>'),Fh=P('<button class="add-reservation-button svelte-ih9smi"><!> 예약 추가</button>'),qh=P('<div class="my-reservations svelte-ih9smi"><h3 class="section-title svelte-ih9smi"> </h3> <div class="reservations-list svelte-ih9smi"></div> <!></div>'),Bh=P('<div class="reservation-form svelte-ih9smi"><h3 class="form-title svelte-ih9smi">새 예약 추가</h3> <div class="form-row svelte-ih9smi"><label for="visitTime" class="svelte-ih9smi">방문 예정 시간</label> <select id="visitTime" class="svelte-ih9smi"><option>이벤트 시작 시간</option><option>15분 전</option><option>30분 전</option><option>1시간 전</option><option>1시간 30분 전</option><option>2시간 전</option></select></div> <div class="form-row svelte-ih9smi"><label for="seats" class="svelte-ih9smi">좌석 정보 (선택)</label> <input type="text" id="seats" placeholder="예: A열 22번" class="svelte-ih9smi"></div> <div class="form-row svelte-ih9smi"><label for="memo" class="svelte-ih9smi">메모 (선택)</label> <textarea id="memo" placeholder="예약 관련 메모" class="svelte-ih9smi"></textarea></div> <div class="form-actions svelte-ih9smi"><button class="cancel-button svelte-ih9smi">취소</button> <button class="save-button svelte-ih9smi">예약 추가</button></div></div>'),Wh=P("<!> 예약 추가하기",1),Hh=P("<!> 알림 해제",1),Vh=P("<!> 알림 설정",1),Gh=P('<div class="action-buttons svelte-ih9smi"><!> <!></div>'),Yh=P('<a target="_blank" rel="noopener noreferrer" class="booking-link svelte-ih9smi"><!> 예약 링크로 이동</a>'),Jh=P('<div class="event-details svelte-ih9smi"><!> <div class="event-schedule svelte-ih9smi"><div class="schedule-item svelte-ih9smi"><!> <span class="schedule-text svelte-ih9smi"> </span></div> <div class="schedule-item svelte-ih9smi"><!> <span class="schedule-text svelte-ih9smi"> </span></div></div> <!> <!> <div class="event-actions svelte-ih9smi"><!> <div class="bottom-actions svelte-ih9smi"><!> <button class="detail-button svelte-ih9smi" aria-label="상세 페이지로 이동"><!> 상세 보기</button></div></div></div>'),Kh=P('<div tabindex="0" role="button"><div class="event-header svelte-ih9smi"><div class="event-title-row svelte-ih9smi"><div class="title-container svelte-ih9smi"><!></div> <div class="expand-icon svelte-ih9smi"><!></div></div> <div class="event-meta svelte-ih9smi"><span> </span> <!> <div class="event-time svelte-ih9smi"><!> <span> </span></div> <!> <!></div></div> <!></div>');function go(e,t){at(t,!1);const[r,n]=Cr(),s=()=>Ar(nt,"$authStore",r),i=R(),a=R(),o=R(),l=R(),c=R(),d=R(),g=R(),f=R(),w=R();let p=te(t,"id",8),_=te(t,"title",8),v=te(t,"description",8,""),k=te(t,"reservationStart",8),b=te(t,"reservationPlatform",8,""),y=te(t,"reservationLink",8,""),S=te(t,"category",8,""),E=te(t,"organizer",8,""),O=te(t,"hasNotification",8,!1),U=te(t,"isMyReservation",8,!1),C=te(t,"onNotifyClick",8,void 0),K=te(t,"visitTime",8,30),B=te(t,"reservations",28,()=>[]);const T=Hs();let H=R(!1),A=R(!1),L=R({visitTime:K(),seats:"",memo:""});const re=new Date,Y=new Date(k());function ue(j,I){if(!I||!j)return j;if(j.toLowerCase().includes(I.toLowerCase())&&I.length>=2){const Q=new RegExp(`${I}[\\s:-]*`,"i");return j.replace(Q,"").trim()}return j}function he(){return O()||U()||B().length>0?{text:"예약됨",class:"status-booked"}:u(o)?{text:"종료됨",class:"status-past"}:u(l)?{text:"진행중",class:"status-active"}:{text:"예약가능",class:"status-open"}}function _e(j,I){const Q=j.getMonth()+1,Te=j.getDate(),Xe=j.getHours().toString().padStart(2,"0"),Oe=j.getMinutes().toString().padStart(2,"0");return I?`${Q}/${Te} ${Xe}:${Oe}~`:`~${Q}/${Te} ${Xe}:${Oe}`}function Ue(j,I){const Q=new Date(j);return Q.setMinutes(Q.getMinutes()-I),Q}function Z(j,I){const Q=Ue(j,I);return ys(Q,"HH:mm",{locale:bs})}function fe(j){switch(j.toLowerCase()){case"콘서트":return"bg-pink-100 text-pink-800";case"전시회":return"bg-blue-100 text-blue-800";case"공연":return"bg-purple-100 text-purple-800";case"페스티벌":return"bg-yellow-100 text-yellow-800";case"스포츠":return"bg-green-100 text-green-800";case"굿즈":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}}function me(j){const I=j.toLowerCase();return I.includes("카카오")?"https://www.kakaocorp.com/page/favicon.ico":I.includes("네이버")?"https://ssl.pstatic.net/sstatic/search/favicon/favicon_32x32_240820.ico":I.includes("구글")?"https://www.google.co.kr/favicon.ico":I.includes("인터파크")?"https://tickets.interpark.com/favicon.ico":I.includes("예스24")?"https://image.yes24.com/sysimage/renew/gnb/favicon_n.ico":I.includes("멜론")?"https://www.melon.com/favicon.ico":I.includes("티켓링크")?"https://www.ticketlink.co.kr/favicon.ico":"🌐"}function Ie(){$(H,!u(H))}function ae(j){j.stopPropagation(),window.location.href=`/events/${p()}`}function ze(j){j.stopPropagation(),$(A,!u(A))}function Pe(j){if(j.stopPropagation(),!s().isLoggedIn){alert("예약을 추가하려면 로그인이 필요합니다.");return}const I={id:crypto.randomUUID(),eventId:p(),visitTime:u(L).visitTime,seats:u(L).seats||void 0,memo:u(L).memo||void 0,createdAt:new Date};B([...B(),I]),$(A,!1),$(L,{visitTime:K(),seats:"",memo:""}),T("reservationAdded",I)}function Je(j,I){j.stopPropagation(),confirm("이 예약을 삭제하시겠습니까?")&&(B(B().filter(Q=>Q.id!==I)),T("reservationRemoved",I))}ct(()=>(ir(B()),ir(U())),()=>{$(i,B().length>0?`${B().length}개의 예약`:U()?"예약됨":"")}),ct(()=>{},()=>{$(a,Y>re)}),ct(()=>{},()=>{$(o,Y<re)}),ct(()=>{},()=>{$(l,!1)}),ct(()=>{},()=>{$(c,he())}),ct(()=>(ir(_()),ir(E())),()=>{$(d,ue(_(),E()))}),ct(()=>u(a),()=>{$(g,_e(Y,u(a)))}),ct(()=>ir(S()),()=>{$(f,fe(S()))}),ct(()=>ir(b()),()=>{$(w,me(b()))}),Fs(),ft();var Fe=Kh(),vt=h(Fe),De=h(vt),Ne=h(De),qe=h(Ne);{var Be=j=>{var I=Ch(),Q=h(I),Te=h(Q),Xe=h(Te),Oe=m(Te,2),Ze=h(Oe);z(()=>{N(Xe,E()),N(Ze,u(d))}),x(j,I)},Ke=j=>{var I=jh(),Q=h(I);z(()=>N(Q,_())),x(j,I)};M(qe,j=>{E()?j(Be):j(Ke,!1)})}var F=m(Ne,2),J=h(F);{var ve=j=>{xu(j,{size:18})},je=j=>{bu(j,{size:18})};M(J,j=>{u(H)?j(ve):j(je,!1)})}var ne=m(De,2),de=h(ne),be=h(de),We=m(de,2);{var Se=j=>{var I=Lh(),Q=h(I);z(()=>{st(I,1,`category-badge ${u(f)??""}`,"svelte-ih9smi"),N(Q,S())}),x(j,I)};M(We,j=>{S()&&j(Se)})}var Me=m(We,2),G=h(Me);ws(G,{size:12});var q=m(G,2),W=h(q),X=m(Me,2);{var se=j=>{var I=Ih(),Q=h(I);{var Te=Oe=>{var Ze=Rh();z(()=>{ur(Ze,"src",u(w)),ur(Ze,"alt",b())}),x(Oe,Ze)},Xe=(Oe,Ze)=>{{var St=gt=>{Su(gt,{size:12})},Ht=gt=>{var oe=rt();z(()=>N(oe,u(w))),x(gt,oe)};M(Oe,gt=>{u(w)==="🌐"?gt(St):gt(Ht,!1)},Ze)}};M(Q,Oe=>{u(w).startsWith("http")||u(w).startsWith("data:")?Oe(Te):Oe(Xe,!1)})}x(j,I)};M(X,j=>{b()&&j(se)})}var ke=m(X,2);{var $e=j=>{var I=Dh(),Q=h(I);z(()=>N(Q,u(i))),x(j,I)};M(ke,j=>{u(i)&&j($e)})}var Qe=m(vt,2);{var it=j=>{var I=Jh(),Q=h(I);{var Te=Ae=>{var et=Nh(),pt=h(et);z(()=>N(pt,v())),x(Ae,et)};M(Q,Ae=>{v()&&Ae(Te)})}var Xe=m(Q,2),Oe=h(Xe),Ze=h(Oe);io(Ze,{size:16,class:"schedule-icon"});var St=m(Ze,2),Ht=h(St),gt=m(Oe,2),oe=h(gt);ws(oe,{size:16,class:"schedule-icon"});var ge=m(oe,2),He=h(ge),wt=m(Xe,2);{var pr=Ae=>{var et=qh(),pt=h(et),Zt=h(pt),er=m(pt,2);xt(er,5,B,lt=>lt.id,(lt,Ve)=>{var Et=zh(),jt=h(Et),wr=h(jt),yr=h(wr);ws(yr,{size:14});var jr=m(yr,2),rn=h(jr),Lt=m(jr,2),Vt=h(Lt),Pt=m(wr,2);{var bo=_t=>{var nn=Mh(),as=h(nn);z(()=>N(as,`좌석: ${u(Ve).seats??""}`)),x(_t,nn)};M(Pt,_t=>{u(Ve).seats&&_t(bo)})}var xo=m(Pt,2);{var ko=_t=>{var nn=Uh(),as=h(nn);z(()=>N(as,u(Ve).memo)),x(_t,nn)};M(xo,_t=>{u(Ve).memo&&_t(ko)})}var Xs=m(jt,2);z(_t=>{N(rn,`방문 예정: ${_t??""}`),N(Vt,`(${u(Ve).visitTime??""}분 전)`)},[()=>Z(Y,u(Ve).visitTime)],ce),D("click",Xs,_t=>Je(_t,u(Ve).id)),D("keydown",Xs,_t=>_t.key==="Enter"&&Je(_t,u(Ve).id)),x(lt,Et)});var mr=m(er,2);{var yt=lt=>{var Ve=Fh(),Et=h(Ve);Yi(Et,{size:14}),D("click",Ve,ze),D("keydown",Ve,jt=>jt.key==="Enter"&&ze(jt)),x(lt,Ve)};M(mr,lt=>{u(A)||lt(yt)})}z(()=>N(Zt,`나의 예약 (${B().length??""}개)`)),x(Ae,et)};M(wt,Ae=>{B().length>0&&Ae(pr)})}var _r=m(wt,2);{var ss=Ae=>{var et=Bh(),pt=m(h(et),2),Zt=m(h(pt),2);z(()=>{u(L),Pr(()=>{})});var er=h(Zt);er.value=er.__value=0;var mr=m(er);mr.value=mr.__value=15;var yt=m(mr);yt.value=yt.__value=30;var lt=m(yt);lt.value=lt.__value=60;var Ve=m(lt);Ve.value=Ve.__value=90;var Et=m(Ve);Et.value=Et.__value=120;var jt=m(pt,2),wr=m(h(jt),2),yr=m(jt,2),jr=m(h(yr),2),rn=m(yr,2),Lt=h(rn),Vt=m(Lt,2);Tr(Zt,()=>u(L).visitTime,Pt=>ls(L,u(L).visitTime=Pt)),Ut(wr,()=>u(L).seats,Pt=>ls(L,u(L).seats=Pt)),Ut(jr,()=>u(L).memo,Pt=>ls(L,u(L).memo=Pt)),D("click",Lt,ze),D("click",Vt,Pe),x(Ae,et)};M(_r,Ae=>{u(A)&&Ae(ss)})}var po=m(_r,2),Ks=h(po);{var _o=Ae=>{var et=Gh(),pt=h(et);{var Zt=yt=>{Le(yt,{variant:"primary",className:"action-button",onClick:()=>ze(new Event("click")),fullWidth:!1,children:(lt,Ve)=>{var Et=Wh(),jt=V(Et);Yi(jt,{size:14}),x(lt,Et)},$$slots:{default:!0}})};M(pt,yt=>{U()||yt(Zt)})}var er=m(pt,2);{var mr=yt=>{const lt=ce(()=>O()?"primary":"outline"),Ve=ce(()=>O()?"active-notify":"");Le(yt,{get variant(){return u(lt)},get className(){return`action-button ${u(Ve)??""}`},onClick:()=>{if(!s().isLoggedIn){alert("알림 설정을 위해서는 로그인이 필요합니다.");return}C()()},fullWidth:!1,children:(Et,jt)=>{var wr=ye(),yr=V(wr);{var jr=Lt=>{var Vt=Hh(),Pt=V(Vt);so(Pt,{size:16}),x(Lt,Vt)},rn=Lt=>{var Vt=Vh(),Pt=V(Vt);Ys(Pt,{size:16}),x(Lt,Vt)};M(yr,Lt=>{O()?Lt(jr):Lt(rn,!1)})}x(Et,wr)},$$slots:{default:!0}})};M(er,yt=>{C()&&yt(mr)})}x(Ae,et)};M(Ks,Ae=>{u(a)&&B().length===0&&!u(A)&&Ae(_o)})}var mo=m(Ks,2),Qs=h(mo);{var wo=Ae=>{var et=Yh(),pt=h(et);ao(pt,{size:16}),z(()=>ur(et,"href",y())),D("click",et,mn(function(Zt){Wa.call(this,t,Zt)})),x(Ae,et)};M(Qs,Ae=>{y()&&Ae(wo)})}var is=m(Qs,2),yo=h(is);Js(yo,{size:16}),z((Ae,et,pt)=>{N(Ht,Ae),N(He,`${et??""} (${pt??""})`)},[()=>ys(Y,"yyyy년 MM월 dd일",{locale:bs}),()=>ys(Y,"HH:mm",{locale:bs}),()=>Ku(k())],ce),D("click",is,ae),D("keydown",is,Ae=>Ae.key==="Enter"&&ae(Ae)),Gl(3,I,()=>Vu,()=>({y:-20,duration:200})),x(j,I)};M(Qe,j=>{u(H)&&j(it)})}z(()=>{st(Fe,1,`event-card ${U()||B().length>0?"booked":""} ${u(o)?"past":""}`,"svelte-ih9smi"),ur(Fe,"aria-expanded",u(H)),st(de,1,`status-tag ${u(c).class??""}`,"svelte-ih9smi"),N(be,u(c).text),N(W,u(g))}),D("click",Fe,Ie),D("keydown",Fe,j=>j.key==="Enter"&&Ie()),x(e,Fe),ot(),n()}var Qh=P('<div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4"> </div>'),Xh=P("<option> </option>"),Zh=P("<option> </option>"),ef=P('<form class="space-y-6"><h2 class="text-xl font-bold text-neutral-800"> </h2> <!> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="md:col-span-2"><label for="title" class="block text-sm font-medium text-neutral-700 mb-1">이벤트 제목 *</label> <input id="title" type="text" placeholder="이벤트 제목을 입력하세요" required class="w-full p-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[--primary]"></div> <div class="md:col-span-2"><label for="description" class="block text-sm font-medium text-neutral-700 mb-1">이벤트 설명</label> <textarea id="description" placeholder="이벤트에 대한 설명을 입력하세요" rows="3" class="w-full p-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[--primary]"></textarea></div> <div><label for="organizer" class="block text-sm font-medium text-neutral-700 mb-1">주최자</label> <input id="organizer" type="text" placeholder="주최자 이름" class="w-full p-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[--primary]"></div> <div><label for="category" class="block text-sm font-medium text-neutral-700 mb-1">카테고리</label> <select id="category" class="w-full p-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[--primary]"><option disabled>카테고리 선택</option><!></select></div> <div><label for="reservationStart" class="block text-sm font-medium text-neutral-700 mb-1">예약 시작 시간 *</label> <input id="reservationStart" type="datetime-local" required class="w-full p-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[--primary]"></div> <div><label for="reservationPlatform" class="block text-sm font-medium text-neutral-700 mb-1">예약 플랫폼</label> <select id="reservationPlatform" class="w-full p-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[--primary]"><option disabled>플랫폼 선택</option><!></select></div> <div class="md:col-span-2"><label for="reservationLink" class="block text-sm font-medium text-neutral-700 mb-1">예약 링크</label> <input id="reservationLink" type="url" placeholder="https://example.com/reservation" class="w-full p-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[--primary]"></div></div> <div class="flex space-x-4 justify-end"><!> <!></div></form>');function tf(e,t){at(t,!1);const r=Hs();let n=te(t,"event",28,()=>({title:"",description:"",organizer:"",category:"",reservationStart:"",reservationPlatform:"",reservationLink:""})),s=te(t,"isSubmitting",8,!1),i=te(t,"error",12,null);const a=["콘서트","전시회","공연","페스티벌","스포츠","굿즈","기타"],o=["인터파크","티켓링크","예스24","멜론티켓","네이버예약","카카오톡","기타"];function l(){if(!n().title){i("이벤트 제목을 입력해주세요.");return}if(!n().reservationStart){i("예약 시작 시간을 설정해주세요.");return}r("submit",n())}function c(){r("cancel")}ct(()=>ir(n()),()=>{n().reservationStart&&typeof n().reservationStart=="string"&&!n().reservationStart.includes("T")&&n(n().reservationStart=new Date(n().reservationStart).toISOString(),!0)}),Fs(),ft();var d=ef(),g=h(d),f=h(g),w=m(g,2);{var p=Z=>{var fe=Qh(),me=h(fe);z(()=>N(me,i())),x(Z,fe)};M(w,Z=>{i()&&Z(p)})}var _=m(w,2),v=h(_),k=m(h(v),2),b=m(v,2),y=m(h(b),2),S=m(b,2),E=m(h(S),2),O=m(S,2),U=m(h(O),2);z(()=>{n(),Pr(()=>{})});var C=h(U);C.value=C.__value="";var K=m(C);xt(K,1,()=>a,qt,(Z,fe)=>{var me=Xh(),Ie={},ae=h(me);z(()=>{Ie!==(Ie=u(fe))&&(me.value=(me.__value=u(fe))??""),N(ae,u(fe))}),x(Z,me)});var B=m(O,2),T=m(h(B),2),H=m(B,2),A=m(h(H),2);z(()=>{n(),Pr(()=>{})});var L=h(A);L.value=L.__value="";var re=m(L);xt(re,1,()=>o,qt,(Z,fe)=>{var me=Zh(),Ie={},ae=h(me);z(()=>{Ie!==(Ie=u(fe))&&(me.value=(me.__value=u(fe))??""),N(ae,u(fe))}),x(Z,me)});var Y=m(H,2),ue=m(h(Y),2),he=m(_,2),_e=h(he);Le(_e,{variant:"outline",onClick:c,get disabled(){return s()},children:(Z,fe)=>{var me=rt("취소");x(Z,me)},$$slots:{default:!0}});var Ue=m(_e,2);Le(Ue,{type:"submit",variant:"primary",get disabled(){return s()},children:(Z,fe)=>{var me=rt();z(()=>N(me,s()?"처리 중...":n().id?"수정하기":"추가하기")),x(Z,me)},$$slots:{default:!0}}),z(()=>N(f,n().id?"이벤트 수정":"새 이벤트 추가")),Ut(k,()=>n().title,Z=>n(n().title=Z,!0)),Ut(y,()=>n().description,Z=>n(n().description=Z,!0)),Ut(E,()=>n().organizer,Z=>n(n().organizer=Z,!0)),Tr(U,()=>n().category,Z=>n(n().category=Z,!0)),Ut(T,()=>n().reservationStart,Z=>n(n().reservationStart=Z,!0)),Tr(A,()=>n().reservationPlatform,Z=>n(n().reservationPlatform=Z,!0)),Ut(ue,()=>n().reservationLink,Z=>n(n().reservationLink=Z,!0)),D("submit",d,xr(l)),x(e,d),ot()}var rf=P('<button class="absolute top-4 right-4 text-neutral-400 hover:text-neutral-600" aria-label="닫기"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <!>',1),nf=P('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" tabindex="0" role="button" aria-label="모달 닫기"><div class="w-full max-w-2xl" tabindex="0" role="dialog" aria-modal="true"><!></div></div>');function sf(e,t){at(t,!1);let r=te(t,"isOpen",8,!1),n=te(t,"event",28,()=>({title:"",description:"",organizer:"",category:"",reservationStart:"",reservationPlatform:"",reservationLink:""})),s=te(t,"isSubmitting",12,!1),i=te(t,"error",12,null);const a=Hs();function o(){a("close")}function l(p){a("submit",p.detail)}function c(){o()}function d(p){p.key==="Escape"&&r()&&o()}ft();var g=ye();D("keydown",Ss,d);var f=V(g);{var w=p=>{var _=nf(),v=h(_),k=h(v);dr(k,{padding:"lg",shadow:"lg",className:"max-h-[90vh] overflow-y-auto",children:(b,y)=>{var S=rf(),E=V(S),O=m(E,2);tf(O,{get event(){return n()},set event(U){n(U)},get isSubmitting(){return s()},set isSubmitting(U){s(U)},get error(){return i()},set error(U){i(U)},$$events:{submit:l,cancel:c},$$legacy:!0}),D("click",E,o),x(b,S)},$$slots:{default:!0}}),D("click",v,mn(()=>{})),D("keydown",v,mn(()=>{})),D("click",_,o),D("keydown",_,b=>b.key==="Enter"&&o()),x(p,_)};M(f,p=>{r()&&p(w)})}x(e,g),ot()}var af=P("<option> </option>"),of=P('<div class="filter-panel svelte-1wn1d4a"><div class="filter-group"><label for="search" class="block text-sm font-medium mb-1">검색</label> <input id="search" type="text" placeholder="이벤트 제목이나 내용 검색..." class="w-full p-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[--primary]"></div> <div class="filter-group"><label for="category" class="block text-sm font-medium mb-1">카테고리</label> <select id="category" class="w-full p-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[--primary]"></select></div></div>'),lf=P('<div class="loading-state svelte-1wn1d4a"><p>이벤트를 불러오는 중...</p></div>'),cf=P('<div class="error-state svelte-1wn1d4a"><p> </p> <button class="svelte-1wn1d4a">다시 시도</button></div>'),uf=P("<p>예약된 이벤트가 없습니다</p>"),df=P('<p>표시할 이벤트가 없습니다</p> <button class="svelte-1wn1d4a">필터 조정하기</button>',1),hf=P('<div class="empty-state svelte-1wn1d4a"><!></div>'),ff=P('<div class="app-container svelte-1wn1d4a"><main class="main-content svelte-1wn1d4a"><div class="events-tab svelte-1wn1d4a"><div class="header svelte-1wn1d4a"><div class="flex justify-between items-center mb-4"><h1 class="text-2xl font-semibold mb-2 svelte-1wn1d4a"> </h1> <div class="flex gap-2"><!></div></div> <div class="header-actions svelte-1wn1d4a"><button class="filter-button svelte-1wn1d4a"><!></button></div></div> <!> <div class="event-list svelte-1wn1d4a"><!></div></div></main> <!></div>');function vf(e,t){at(t,!1);const[r,n]=Cr(),s=()=>Ar(nt,"$authStore",r),i=R(),a=R(),o=R(),l=R(),c=R();let d=R([]),g=R(!0),f=R(null),w=R(""),p=R(""),_=R(!1),v=R([]),k=R(!1),b=R({}),y=R(!1),S=R(null),E=R("all");function O(){return new URLSearchParams(window.location.search).get("tab")==="my-reservations"?"my-reservations":"all"}function U(){$(E,O())}Xt(()=>{U(),C();const F=Rt.subscribe(ve=>{$(d,ve.events),$(g,ve.isLoading),$(f,ve.error)}),J=()=>{U()};return window.addEventListener("popstate",J),()=>{F(),window.removeEventListener("popstate",J)}});async function C(){await Rt.fetchEvents()}function K(){$(b,{title:"",description:"",organizer:"",category:"",reservationStart:"",reservationPlatform:"",reservationLink:""}),$(k,!0)}async function B(F){try{$(y,!0),$(S,null);const J=F.detail;await Rt.addEvent({title:J.title,description:J.description,organizer:J.organizer,category:J.category,reservationStart:J.reservationStart,reservationPlatform:J.reservationPlatform,reservationLink:J.reservationLink}),$(k,!1)}catch(J){console.error("이벤트 추가 중 오류 발생:",J),J instanceof Error?$(S,J.message):$(S,"이벤트를 추가하는 중 오류가 발생했습니다.")}finally{$(y,!1)}}function T(F){u(v).includes(F)?$(v,u(v).filter(J=>J!==F)):$(v,[...u(v),F])}function H(){$(_,!u(_))}const A=[{value:"",label:"모든 카테고리"},{value:"콘서트",label:"콘서트"},{value:"전시회",label:"전시회"},{value:"공연",label:"공연"},{value:"페스티벌",label:"페스티벌"},{value:"스포츠",label:"스포츠"},{value:"굿즈",label:"굿즈"},{value:"기타",label:"기타"}];ct(()=>(u(d),u(w),u(p)),()=>{$(i,u(d).filter(F=>{let J=!0,ve=!0;if(u(w)){const je=u(w).toLowerCase();J=!!(F.title.toLowerCase().includes(je)||F.description&&F.description.toLowerCase().includes(je)||F.organizer&&F.organizer.toLowerCase().includes(je))}return ve=!u(p)||F.category===u(p),J&&ve}))}),ct(()=>u(i),()=>{$(a,u(i).filter(F=>new Date(F.reservationStart)>new Date))}),ct(()=>u(i),()=>{$(o,u(i).filter(F=>F.hasNotification))}),ct(()=>(u(E),u(o),u(a)),()=>{$(l,u(E)==="my-reservations"?u(o):u(a))}),ct(()=>u(E),()=>{$(c,u(E)==="my-reservations"?"나의 예약":"이벤트")}),Fs(),ft();var L=ff(),re=h(L),Y=h(re),ue=h(Y),he=h(ue),_e=h(he),Ue=h(_e),Z=m(_e,2),fe=h(Z);{var me=F=>{Le(F,{variant:"primary",onClick:K,children:(J,ve)=>{var je=rt("이벤트 추가");x(J,je)},$$slots:{default:!0}})},Ie=F=>{};M(fe,F=>{s().isLoggedIn?F(me):F(Ie,!1)})}var ae=m(he,2),ze=h(ae),Pe=h(ze);$u(Pe,{size:20});var Je=m(ue,2);{var Fe=F=>{var J=of(),ve=h(J),je=m(h(ve),2),ne=m(ve,2),de=m(h(ne),2);z(()=>{u(p),Pr(()=>{})}),xt(de,5,()=>A,qt,(be,We)=>{var Se=af(),Me={},G=h(Se);z(()=>{Me!==(Me=u(We).value)&&(Se.value=(Se.__value=u(We).value)??""),N(G,u(We).label)}),x(be,Se)}),Ut(je,()=>u(w),be=>$(w,be)),Tr(de,()=>u(p),be=>$(p,be)),x(F,J)};M(Je,F=>{u(_)&&F(Fe)})}var vt=m(Je,2),De=h(vt);{var Ne=F=>{var J=lf();x(F,J)},qe=(F,J)=>{{var ve=ne=>{var de=cf(),be=h(de),We=h(be),Se=m(be,2);z(()=>N(We,`오류가 발생했습니다: ${u(f)??""}`)),D("click",Se,C),x(ne,de)},je=(ne,de)=>{{var be=Se=>{var Me=hf(),G=h(Me);{var q=X=>{var se=uf();x(X,se)},W=X=>{var se=df(),ke=m(V(se),2);D("click",ke,H),x(X,se)};M(G,X=>{u(E)==="my-reservations"?X(q):X(W,!1)})}x(Se,Me)},We=Se=>{var Me=ye(),G=V(Me);xt(G,1,()=>u(l),q=>q.id,(q,W)=>{const X=ce(()=>u(W).description||""),se=ce(()=>u(W).reservationPlatform||""),ke=ce(()=>u(W).reservationLink||""),$e=ce(()=>u(W).category||""),Qe=ce(()=>u(W).organizer||""),it=ce(()=>!!u(W).hasNotification),j=ce(()=>u(E)==="my-reservations"||u(W).hasNotification||u(v).includes(u(W).id));go(q,{get id(){return u(W).id},get title(){return u(W).title},get description(){return u(X)},get reservationStart(){return u(W).reservationStart},get reservationPlatform(){return u(se)},get reservationLink(){return u(ke)},get category(){return u($e)},get organizer(){return u(Qe)},get hasNotification(){return u(it)},get isMyReservation(){return u(j)},onNotifyClick:()=>T(u(W).id),$$events:{select:I=>T(I.detail)}})}),x(Se,Me)};M(ne,Se=>{u(l).length===0?Se(be):Se(We,!1)},de)}};M(F,ne=>{u(f)?ne(ve):ne(je,!1)},J)}};M(De,F=>{u(g)?F(Ne):F(qe,!1)})}var Be=m(re,2);{var Ke=F=>{sf(F,{isOpen:!0,get event(){return u(b)},get isSubmitting(){return u(y)},get error(){return u(S)},$$events:{close:()=>$(k,!1),submit:B}})};M(Be,F=>{u(k)&&F(Ke)})}z(()=>N(Ue,u(c))),D("click",ze,H),x(e,L),ot(),n()}var gf=P('<div class="loading svelte-z7g6jo">이벤트 정보를 불러오는 중...</div>'),pf=P('<div class="error svelte-z7g6jo"><p> </p> <!></div>'),_f=P("<!> 알림 해제",1),mf=P("<!> 알림 설정",1),wf=P('<div class="login-prompt svelte-z7g6jo"><p class="mb-2 text-sm text-gray-600">알림 설정을 위해 로그인하세요</p> <!></div>'),yf=P('<div class="info-item svelte-z7g6jo"><div class="label svelte-z7g6jo">주최:</div> <div class="value svelte-z7g6jo"> </div></div>'),bf=P('<div class="info-item svelte-z7g6jo"><div class="label svelte-z7g6jo">카테고리:</div> <div class="value svelte-z7g6jo"><span class="category-badge svelte-z7g6jo"> </span></div></div>'),xf=P('<div class="info-item svelte-z7g6jo"><div class="label svelte-z7g6jo">예약 플랫폼:</div> <div class="value svelte-z7g6jo"> </div></div>'),kf=P('<div class="info-item svelte-z7g6jo"><div class="label svelte-z7g6jo">예약 링크:</div> <div class="value link svelte-z7g6jo"><a target="_blank" rel="noopener noreferrer" class="svelte-z7g6jo"> <!></a></div></div>'),$f=P('<div class="event-description svelte-z7g6jo"><h2 class="svelte-z7g6jo">상세 설명</h2> <p> </p></div>'),Sf=P("<p>메모를 불러오는 중...</p>"),Ef=P('<p class="error-text svelte-z7g6jo"> </p>'),Pf=P('<div class="note-editor svelte-z7g6jo"><textarea placeholder="이 이벤트에 대한 메모를 입력하세요" rows="4" class="svelte-z7g6jo"></textarea> <!></div>'),Tf=P('<div class="login-prompt svelte-z7g6jo"><p>메모 기능을 사용하려면 로그인이 필요합니다.</p> <!></div>'),Of=P('<div class="event-header svelte-z7g6jo"><h1 class="svelte-z7g6jo"> </h1> <div class="header-actions svelte-z7g6jo"><!></div></div> <div class="event-info svelte-z7g6jo"><div class="info-item svelte-z7g6jo"><div class="label svelte-z7g6jo">예약 시작:</div> <div class="value svelte-z7g6jo"> </div></div> <!> <!> <!> <!></div> <!> <div class="event-notes svelte-z7g6jo"><h2 class="svelte-z7g6jo">나의 메모</h2> <!></div> <!>',1),Af=P('<div class="not-found svelte-z7g6jo"><p>이벤트를 찾을 수 없습니다.</p> <!></div>'),Cf=P('<div class="mb-4"><button class="flex items-center text-neutral-700 hover:text-primary transition-colors"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg> 돌아가기</button></div> <div class="event-detail svelte-z7g6jo"><!></div>',1);function jf(e,t){at(t,!1);const[r,n]=Cr(),s=()=>Ar(nt,"$authStore",r);let i="",a=R(null),o=R(!0),l=R(null),c=R(""),d=R(!1),g=R(!1),f=R(null),w="30";Xt(async()=>{const T=window.location.pathname.split("/");i=T[T.length-1],i&&await v()});function p(){window.location.href="/login"}function _(){window.location.href="/events"}async function v(){$(o,!0),$(l,null);try{if($(a,await Rt.getEventById(i)),s().isLoggedIn&&u(a)){$(g,!0);try{const T=await Rt.getNoteForEvent(i);T&&$(c,T.content)}catch(T){console.error("메모를 불러오는 중 오류 발생:",T),$(f,"메모를 불러올 수 없습니다.")}finally{$(g,!1)}}}catch(T){console.error("이벤트 상세 정보를 불러오는 중 오류 발생:",T),$(l,"이벤트 정보를 불러올 수 없습니다. 나중에 다시 시도해주세요.")}finally{$(o,!1)}}async function k(){if(!s().isLoggedIn){alert("알림을 설정하려면 로그인이 필요합니다.");return}if(u(a))try{u(a).hasNotification?await Rt.removeNotification(i):await Rt.setNotification(i,parseInt(w)),$(a,await Rt.getEventById(i))}catch(T){console.error("알림 설정 중 오류 발생:",T),alert("알림 설정을 변경하는 중 오류가 발생했습니다.")}finally{}}async function b(){if(!s().isLoggedIn){alert("메모를 저장하려면 로그인이 필요합니다.");return}if(u(a)){$(d,!0);try{await Rt.saveNoteForEvent(i,u(c)),alert("메모가 저장되었습니다.")}catch(T){console.error("메모 저장 중 오류 발생:",T),alert("메모를 저장하는 중 오류가 발생했습니다.")}finally{$(d,!1)}}}function y(){window.history.back()}ft();var S=Cf(),E=V(S),O=h(E),U=m(E,2),C=h(U);{var K=T=>{var H=gf();x(T,H)},B=(T,H)=>{{var A=re=>{var Y=pf(),ue=h(Y),he=h(ue),_e=m(ue,2);Le(_e,{variant:"outline",onClick:()=>v(),children:(Ue,Z)=>{var fe=rt("다시 시도");x(Ue,fe)},$$slots:{default:!0}}),z(()=>N(he,`오류가 발생했습니다: ${u(l)??""}`)),x(re,Y)},L=(re,Y)=>{{var ue=_e=>{var Ue=Of(),Z=V(Ue),fe=h(Z),me=h(fe),Ie=m(fe,2),ae=h(Ie);{var ze=q=>{const W=ce(()=>u(a).hasNotification?"primary":"outline");Le(q,{get variant(){return u(W)},onClick:k,className:"notification-button",children:(X,se)=>{var ke=ye(),$e=V(ke);{var Qe=j=>{var I=_f(),Q=V(I);Ys(Q,{size:18}),x(j,I)},it=j=>{var I=mf(),Q=V(I);so(Q,{size:18}),x(j,I)};M($e,j=>{u(a).hasNotification?j(Qe):j(it,!1)})}x(X,ke)},$$slots:{default:!0}})},Pe=q=>{var W=wf(),X=m(h(W),2);Le(X,{variant:"outline",onClick:p,children:(se,ke)=>{var $e=rt("로그인");x(se,$e)},$$slots:{default:!0}}),x(q,W)};M(ae,q=>{s().isLoggedIn?q(ze):q(Pe,!1)})}var Je=m(Z,2),Fe=h(Je),vt=m(h(Fe),2),De=h(vt),Ne=m(Fe,2);{var qe=q=>{var W=yf(),X=m(h(W),2),se=h(X);z(()=>N(se,u(a).organizer)),x(q,W)};M(Ne,q=>{u(a).organizer&&q(qe)})}var Be=m(Ne,2);{var Ke=q=>{var W=bf(),X=m(h(W),2),se=h(X),ke=h(se);z(()=>N(ke,u(a).category)),x(q,W)};M(Be,q=>{u(a).category&&q(Ke)})}var F=m(Be,2);{var J=q=>{var W=xf(),X=m(h(W),2),se=h(X);z(()=>N(se,u(a).reservationPlatform)),x(q,W)};M(F,q=>{u(a).reservationPlatform&&q(J)})}var ve=m(F,2);{var je=q=>{var W=kf(),X=m(h(W),2),se=h(X),ke=h(se),$e=m(ke);ao($e,{size:14}),z(()=>{ur(se,"href",u(a).reservationLink),N(ke,`${u(a).reservationLink??""} `)}),x(q,W)};M(ve,q=>{u(a).reservationLink&&q(je)})}var ne=m(Je,2);{var de=q=>{var W=$f(),X=m(h(W),2),se=h(X);z(()=>N(se,u(a).description)),x(q,W)};M(ne,q=>{u(a).description&&q(de)})}var be=m(ne,2),We=m(h(be),2);{var Se=q=>{var W=ye(),X=V(W);{var se=$e=>{var Qe=Sf();x($e,Qe)},ke=($e,Qe)=>{{var it=I=>{var Q=Ef(),Te=h(Q);z(()=>N(Te,`메모를 불러오는 중 오류가 발생했습니다: ${u(f)??""}`)),x(I,Q)},j=I=>{var Q=Pf(),Te=h(Q),Xe=m(Te,2);Le(Xe,{variant:"outline",onClick:b,get disabled(){return u(d)},children:(Oe,Ze)=>{var St=rt();z(()=>N(St,u(d)?"저장 중...":"메모 저장")),x(Oe,St)},$$slots:{default:!0}}),Ut(Te,()=>u(c),Oe=>$(c,Oe)),x(I,Q)};M($e,I=>{u(f)?I(it):I(j,!1)},Qe)}};M(X,$e=>{u(g)?$e(se):$e(ke,!1)})}x(q,W)},Me=q=>{var W=Tf(),X=m(h(W),2);Le(X,{variant:"outline",onClick:p,children:(se,ke)=>{var $e=rt("로그인");x(se,$e)},$$slots:{default:!0}}),x(q,W)};M(We,q=>{s().isLoggedIn?q(Se):q(Me,!1)})}var G=m(be,2);Le(G,{variant:"outline",onClick:_,children:(q,W)=>{var X=rt("이벤트 목록으로");x(q,X)},$$slots:{default:!0}}),z(q=>{N(me,u(a).title),N(De,q)},[()=>Ju(u(a).reservationStart)],ce),x(_e,Ue)},he=_e=>{var Ue=Af(),Z=m(h(Ue),2);Le(Z,{variant:"outline",onClick:_,children:(fe,me)=>{var Ie=rt("이벤트 목록으로");x(fe,Ie)},$$slots:{default:!0}}),x(_e,Ue)};M(re,_e=>{u(a)?_e(ue):_e(he,!1)},Y)}};M(T,re=>{u(l)?re(A):re(L,!1)},H)}};M(C,T=>{u(o)?T(K):T(B,!1)})}D("click",O,y),x(e,S),ot(),n()}var Lf=P("<span>더보기</span> <!>",1),Rf=P('<div class="text-center py-6"><p>이벤트 로딩 중...</p></div>'),If=P('<div class="text-center py-6 text-red-500"><p> </p> <!></div>'),Df=P('<div class="text-center py-6"><p>표시할 이벤트가 없습니다.</p></div>'),Nf=P('<div class="event-container svelte-ghtd33"><!></div>'),Mf=P('<div class="events-grid svelte-ghtd33"></div>'),Uf=P('<div class="popup-overlay svelte-ghtd33" tabindex="0"><div class="popup-content svelte-ghtd33" role="dialog" aria-modal="true"><button class="popup-close svelte-ghtd33" aria-label="팝업 닫기"><!></button> <div class="popup-inner svelte-ghtd33"><section class="hero-section svelte-ghtd33"><h1 class="svelte-ghtd33">예약& 방문 알림을<br>놓치지 마세요</h1> <p class="svelte-ghtd33">다양한 이벤트의 예매 시작 시간을 관리하세요</p> <div class="hero-actions svelte-ghtd33"><!></div></section> <section class="features-section svelte-ghtd33"><h2 class="svelte-ghtd33">예약 관리를 쉽고 간편하게</h2> <div class="features-grid svelte-ghtd33"><div class="feature-card svelte-ghtd33"><div class="feature-icon svelte-ghtd33">🔔</div> <h3 class="svelte-ghtd33">예매 알림</h3> <p class="svelte-ghtd33">중요한 예매 오픈 시간을 놓치지 않도록 알림을 설정하세요.</p></div> <div class="feature-card svelte-ghtd33"><div class="feature-icon svelte-ghtd33">📅</div> <h3 class="svelte-ghtd33">일정 관리</h3> <p class="svelte-ghtd33">다양한 이벤트의 예매 일정을 한눈에 확인하고 관리하세요.</p></div> <div class="feature-card svelte-ghtd33"><div class="feature-icon svelte-ghtd33">✅</div> <h3 class="svelte-ghtd33">다중 예약</h3> <p class="svelte-ghtd33">하나의 이벤트에 여러 예약을 추가하고 메모를 관리하세요.</p></div></div></section></div> <div class="popup-actions svelte-ghtd33"><!></div></div></div>'),zf=P('<div class="home-container svelte-ghtd33"><section class="upcoming-events svelte-ghtd33"><div class="section-header svelte-ghtd33"><h2 class="svelte-ghtd33">다가오는 예약일정</h2> <!></div> <!></section></div> <!>',1);function na(e,t){at(t,!1);let r=R([]),n=R(!0),s=R(null),i=R([]),a=R(!1);Xt(async()=>{await o(),localStorage.getItem("hasSeenWelcomePopup")||$(a,!0)});async function o(){$(n,!0),$(s,null);try{await Rt.fetchEvents();let E=[];Rt.subscribe(C=>{E=C.events})();const U=new Date;$(r,E.filter(C=>new Date(C.reservationStart)>U).sort((C,K)=>new Date(C.reservationStart).getTime()-new Date(K.reservationStart).getTime()).slice(0,3))}catch(E){console.error("이벤트 데이터를 불러오는 중 오류 발생:",E),$(s,"이벤트 정보를 불러올 수 없습니다.")}finally{$(n,!1)}}function l(){window.location.href="/events"}function c(){$(a,!1),localStorage.setItem("hasSeenWelcomePopup","true")}function d(E){u(i).includes(E)?$(i,u(i).filter(O=>O!==E)):$(i,[...u(i),E])}ft();var g=zf(),f=V(g),w=h(f),p=h(w),_=m(h(p),2);Le(_,{variant:"ghost",size:"sm",onClick:l,className:"view-more",children:(E,O)=>{var U=Lf(),C=m(V(U),2);Js(C,{size:16}),x(E,U)},$$slots:{default:!0}});var v=m(p,2);{var k=E=>{var O=Rf();x(E,O)},b=(E,O)=>{{var U=K=>{var B=If(),T=h(B),H=h(T),A=m(T,2);Le(A,{variant:"outline",onClick:o,children:(L,re)=>{var Y=rt("다시 시도");x(L,Y)},$$slots:{default:!0}}),z(()=>N(H,`이벤트를 불러오는 중 오류가 발생했습니다: ${u(s)??""}`)),x(K,B)},C=(K,B)=>{{var T=A=>{var L=Df();x(A,L)},H=A=>{var L=Mf();xt(L,5,()=>u(r),re=>re.id,(re,Y)=>{var ue=Nf(),he=h(ue);const _e=ce(()=>u(Y).description||""),Ue=ce(()=>u(Y).reservationPlatform||""),Z=ce(()=>u(Y).reservationLink||""),fe=ce(()=>u(Y).category||""),me=ce(()=>u(Y).organizer||""),Ie=ce(()=>u(Y).hasNotification||!1),ae=ce(()=>u(Y).hasNotification||u(i).includes(u(Y).id));go(he,{get id(){return u(Y).id},get title(){return u(Y).title},get description(){return u(_e)},get reservationStart(){return u(Y).reservationStart},get reservationPlatform(){return u(Ue)},get reservationLink(){return u(Z)},get category(){return u(fe)},get organizer(){return u(me)},get hasNotification(){return u(Ie)},onNotifyClick:()=>d(u(Y).id),get isMyReservation(){return u(ae)}}),x(re,ue)}),x(A,L)};M(K,A=>{u(r).length===0?A(T):A(H,!1)},B)}};M(E,K=>{u(s)?K(U):K(C,!1)},O)}};M(v,E=>{u(n)?E(k):E(b,!1)})}var y=m(f,2);{var S=E=>{var O=Uf(),U=h(O),C=h(U),K=h(C);Cu(K,{size:24});var B=m(C,2),T=h(B),H=m(h(T),4),A=h(H);Le(A,{variant:"primary",onClick:c,children:(Y,ue)=>{var he=rt("이벤트 관리하기");x(Y,he)},$$slots:{default:!0}});var L=m(B,2),re=h(L);Le(re,{variant:"primary",onClick:c,children:(Y,ue)=>{var he=rt("시작하기");x(Y,he)},$$slots:{default:!0}}),D("click",C,c),D("click",U,mn(()=>{})),D("keydown",U,mn(()=>{})),D("click",O,c),D("keydown",O,Y=>Y.key==="Escape"&&c()),x(E,O)};M(y,E=>{u(a)&&E(S)})}x(e,g),ot()}var Ff=P('<div class="text-center p-6"><div class="spinner mb-4"></div> <h2 class="text-xl font-semibold mb-2">로그인 처리 중...</h2> <p class="text-neutral-600">잠시만 기다려주세요.</p></div>'),qf=P('<div class="text-center p-6"><div class="text-red-500 mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <h2 class="text-xl font-semibold mb-2">로그인 오류</h2> <p class="text-neutral-600 mb-4"> </p> <!></div>'),Bf=P('<div class="text-center p-6"><div class="text-green-500 mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <h2 class="text-xl font-semibold mb-2">로그인 성공!</h2> <p class="text-neutral-600 mb-4">잠시 후 홈 페이지로 이동합니다.</p></div>'),Wf=P('<div class="container-app py-8"><!></div>');function Hf(e,t){at(t,!1);let r=R(!0),n=R(null),s=R(!1);function i(){window.location.href="/"}function a(){window.location.href="/login"}Xt(async()=>{try{const c=new URLSearchParams(window.location.hash.substring(1)),d=new URLSearchParams(window.location.search);if(c.has("access_token")||d.has("code"))await nt.refresh(),$(s,!0),setTimeout(()=>{i()},2e3);else throw new Error("인증 데이터를 찾을 수 없습니다.")}catch(c){console.error("인증 콜백 처리 중 오류 발생:",c),$(n,c instanceof Error?c.message:"인증 처리 중 오류가 발생했습니다.")}finally{$(r,!1)}}),ft();var o=Wf(),l=h(o);dr(l,{className:"max-w-md mx-auto",children:(c,d)=>{var g=ye(),f=V(g);{var w=_=>{var v=Ff();x(_,v)},p=(_,v)=>{{var k=y=>{var S=qf(),E=m(h(S),4),O=h(E),U=m(E,2);Le(U,{variant:"outline",$$events:{click:a},children:(C,K)=>{var B=rt("다시 시도");x(C,B)},$$slots:{default:!0}}),z(()=>N(O,u(n))),x(y,S)},b=(y,S)=>{{var E=O=>{var U=Bf();x(O,U)};M(y,O=>{u(s)&&O(E)},S)}};M(_,y=>{u(n)?y(k):y(b,!1)},v)}};M(f,_=>{u(r)?_(w):_(p,!1)})}x(c,g)},$$slots:{default:!0}}),x(e,o),ot()}var Vf=P('<div class="bg-red-50 text-red-700 p-3 rounded-md mb-4"> </div>'),Gf=P('<button class="flex items-center justify-center gap-2 px-4 py-3 rounded-md bg-white border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 transition-colors w-full" aria-label="구글로 로그인"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M23.766 12.2764C23.766 11.4607 23.6999 10.6406 23.5588 9.83807H12.24V14.4591H18.7217C18.4528 15.9494 17.5885 17.2678 16.323 18.1056V21.1039H20.19C22.4608 19.0139 23.766 15.9274 23.766 12.2764Z" fill="#4285F4"></path><path d="M12.24 24.0008C15.4764 24.0008 18.2058 22.9382 20.1944 21.1039L16.3274 18.1055C15.2516 18.8375 13.8626 19.252 12.2444 19.252C9.11376 19.252 6.45934 17.1399 5.50693 14.3003H1.5166V17.3912C3.55371 21.4434 7.7029 24.0008 12.24 24.0008Z" fill="#34A853"></path><path d="M5.50253 14.3003C5.00973 12.8099 5.00973 11.1961 5.50253 9.70575V6.61481H1.51641C-0.185866 10.0056 -0.185866 14.0004 1.51641 17.3912L5.50253 14.3003Z" fill="#FBBC04"></path><path d="M12.24 4.74966C13.9761 4.7232 15.6521 5.36697 16.8961 6.54867L20.1943 3.12814C18.0221 1.0855 15.2362 -0.034466 12.24 0.000808666C7.7029 0.000808666 3.55371 2.55822 1.5166 6.61481L5.50272 9.70575C6.45553 6.86173 9.10955 4.74966 12.24 4.74966Z" fill="#EA4335"></path></svg> <span> </span></button>'),Yf=P('<h1 class="text-2xl font-semibold mb-6 text-center"> </h1> <!> <div class="flex flex-col gap-4"><button class="flex items-center justify-center gap-2 px-4 py-3 rounded-md bg-[#FEE500] text-[#000000] font-medium hover:bg-[#FFDE00] transition-colors w-full" aria-label="카카오로 로그인"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 4C7.03 4 3 7.13 3 11C3 13.45 4.61 15.61 7 16.77V20L10.89 17.38C11.25 17.45 11.62 17.5 12 17.5C16.97 17.5 21 14.37 21 10.5C21 6.63 16.97 4 12 4Z" fill="black"></path></svg> <span> </span></button> <!> <p class="text-center text-sm text-neutral-500 mt-4">로그인하면 PopItGo의 <a href="/terms" class="text-primary hover:underline">이용약관</a>과 <a href="/privacy" class="text-primary hover:underline">개인정보 처리방침</a>에 동의하게 됩니다.</p></div>',1),Jf=P('<div class="w-full max-w-md mx-auto my-12"><!></div>');function Kf(e,t){at(t,!1);const[r,n]=Cr(),s=()=>Ar(nt,"$authStore",r);let i=R(!1),a=R(null),o=R(!1),l="";function c(){l==="admin"?window.location.href="/admin":window.location.href=u(o)?"/admin":"/"}Xt(()=>(l=new URLSearchParams(window.location.search).get("return_to")||"",$(o,window.location.pathname==="/admin"||l==="admin"),s().isLoggedIn&&c(),nt.subscribe(b=>{b.isLoggedIn&&c()})));async function d(){try{$(i,!0),$(a,null),await nt.login()}catch(v){console.error("카카오 로그인 오류:",v),$(a,"로그인 중 오류가 발생했습니다.")}finally{$(i,!1)}}async function g(){try{$(i,!0),$(a,null),await nt.loginWithGoogle()}catch(v){console.error("구글 로그인 오류:",v),$(a,"로그인 중 오류가 발생했습니다.")}finally{$(i,!1)}}function f(v){(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),d())}function w(v){(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),g())}ft();var p=Jf(),_=h(p);dr(_,{className:"p-6",children:(v,k)=>{var b=Yf(),y=V(b),S=h(y),E=m(y,2);{var O=A=>{var L=Vf(),re=h(L);z(()=>N(re,u(a))),x(A,L)};M(E,A=>{u(a)&&A(O)})}var U=m(E,2),C=h(U),K=m(h(C),2),B=h(K),T=m(C,2);{var H=A=>{var L=Gf(),re=m(h(L),2),Y=h(re);z(()=>{L.disabled=u(i),N(Y,u(i)?"로그인 중...":"구글로 로그인")}),D("click",L,g),D("keydown",L,w),x(A,L)};M(T,A=>{u(o)&&A(H)})}z(()=>{N(S,u(o)?"관리자 로그인":"로그인"),C.disabled=u(i),N(B,u(i)?"로그인 중...":"카카오로 로그인")}),D("click",C,d),D("keydown",C,f),x(v,b)},$$slots:{default:!0}}),x(e,p),ot(),n()}const Qf=()=>typeof window<"u"&&"document"in window&&"location"in window,xs=e=>({...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}),Xf=e=>{const t=[];let r=xs(e);return{get location(){return r},listen(n){t.push(n);const s=()=>{r=xs(e),n({location:r,action:"POP"})};return e.addEventListener("popstate",s),()=>{e.removeEventListener("popstate",s);const i=t.indexOf(n);t.splice(i,1)}},navigate(n,{state:s,replace:i=!1,preserveScroll:a=!1,blurActiveElement:o=!0}={}){s={...s,key:Date.now()+""};try{i?e.history.replaceState(s,"",n):e.history.pushState(s,"",n)}catch{e.location[i?"replace":"assign"](n)}r=xs(e),t.forEach(l=>l({location:r,action:"PUSH",preserveScroll:a})),o&&document.activeElement.blur()}}},Zf=(e="/")=>{let t=0;const r=[{pathname:e,search:""}],n=[];return{get location(){return r[t]},addEventListener(s,i){},removeEventListener(s,i){},history:{get entries(){return r},get index(){return t},get state(){return n[t]},pushState(s,i,a){const[o,l=""]=a.split("?");t++,r.push({pathname:o,search:l}),n.push(s)},replaceState(s,i,a){const[o,l=""]=a.split("?");r[t]={pathname:o,search:l},n[t]=s}}}},ev=Xf(Qf()?window:Zf()),{navigate:tv}=ev;var rv=P('<div class="flex justify-center items-center h-64"><div class="text-xl font-semibold">로딩 중...</div></div>'),nv=P('<div class="text-sm font-medium text-gray-900"> </div> <div class="text-sm text-gray-500 ml-1"> </div>',1),sv=P('<div class="text-sm font-medium text-gray-900"> </div>'),iv=P('<select class="text-sm border rounded p-1"><option>일반 사용자</option><option>관리자</option><option>슈퍼 관리자</option></select>'),av=P('<span class="text-gray-400">변경 불가</span>'),ov=P('<tr><td class="px-6 py-4 whitespace-nowrap"><div class="flex items-center"><!></div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm text-gray-900"> </div></td><td class="px-6 py-4 whitespace-nowrap"><span> </span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><!></td></tr>'),lv=P('<div><h2 class="text-xl font-semibold mb-4">사용자 목록</h2> <div class="overflow-x-auto bg-white rounded-lg shadow"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">이름</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">이메일</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">역할</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">가입일</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">작업</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div></div>'),cv=P('<tr><td class="px-6 py-4"><div class="text-sm font-medium text-gray-900"> </div> <div class="text-xs text-gray-500"> </div></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800"> </span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm text-gray-900"> </div> <div class="text-xs text-gray-500"> </div></td></tr>'),uv=P('<div><h2 class="text-xl font-semibold mb-4">이벤트 목록</h2> <div class="overflow-x-auto bg-white rounded-lg shadow"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">제목</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">주최자</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">카테고리</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">예약시작</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">등록자</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div></div>'),dv=P('<tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><button class="text-red-600 hover:text-red-900 focus:outline-none">삭제</button></td></tr>'),hv=P('<div><h2 class="text-xl font-semibold mb-4">카테고리 관리</h2> <div class="mb-6 bg-white rounded-lg shadow p-4"><h3 class="text-lg font-medium mb-2">새 카테고리 추가</h3> <div class="flex"><input type="text" placeholder="카테고리 이름" class="flex-1 rounded-l border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"> <button class="bg-blue-600 text-white px-4 py-2 rounded-r hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">추가</button></div></div> <div class="overflow-x-auto bg-white rounded-lg shadow"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">이름</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">생성일</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">작업</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div></div>'),fv=P('<pre class="text-xs whitespace-pre-wrap"> </pre>'),vv=P('<tr><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-medium text-gray-900"> </div> <div class="text-xs text-gray-500"> </div></td><td class="px-6 py-4 whitespace-nowrap"><span> </span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4"><div class="text-sm text-gray-900"><!></div></td></tr>'),gv=P('<div><h2 class="text-xl font-semibold mb-4">관리자 활동 로그</h2> <div class="overflow-x-auto bg-white rounded-lg shadow"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">시간</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">관리자</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">작업</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">테이블</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">세부사항</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div></div>'),pv=P('<div class="mb-8"><h1 class="text-3xl font-bold">관리자 대시보드</h1> <p class="text-gray-600"> </p></div> <div class="border-b border-gray-200 mb-6"><ul class="flex -mb-px"><li class="mr-1"><button>사용자 관리</button></li> <li class="mr-1"><button>이벤트 관리</button></li> <li class="mr-1"><button>카테고리 관리</button></li> <li class="mr-1"><button>관리자 로그</button></li></ul></div> <!> <!> <!> <!>',1),_v=P('<div class="text-center py-12"><h1 class="text-2xl font-bold text-red-600">접근 권한이 없습니다</h1> <p class="mt-2 text-gray-600">이 페이지에 접근하려면 관리자 권한이 필요합니다.</p> <button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none">홈으로 돌아가기</button></div>'),mv=P('<div class="container mx-auto px-4 py-8"><!></div>');function wv(e,t){at(t,!1);const[r,n]=Cr(),s=()=>Ar(nt,"$authStore",r);let i=R(!1),a=R(""),o=R(!0),l=R("users"),c=R([]),d=R([]),g=R([]),f=R([]);function w(){window.location.href="/"}Xt(async()=>{if(!s().isLoggedIn){window.location.href="/login?return_to=admin";return}const{isAdmin:A,role:L}=await nt.checkAdminAccess();if(!A){alert("관리자 권한이 필요합니다."),w();return}$(i,A),$(a,L||""),$(o,!1),p()});async function p(){try{const{data:A,error:L}=await le.from("resv_profiles").select("id, username, full_name, email, role, created_at").order("created_at",{ascending:!1});if(L)throw L;$(c,A)}catch(A){console.error("사용자 목록 로드 중 오류:",A),alert("사용자 목록을 불러오는데 실패했습니다.")}}async function _(){try{const{data:A,error:L}=await le.from("resv_events").select(`
          id, title, description, organizer, category, 
          reservation_start, reservation_platform, 
          user_id, profiles:resv_profiles(username, email)
        `).order("reservation_start",{ascending:!1});if(L)throw L;$(d,A)}catch(A){console.error("이벤트 목록 로드 중 오류:",A),alert("이벤트 목록을 불러오는데 실패했습니다.")}}async function v(){try{const{data:A,error:L}=await le.from("resv_categories").select("*").order("name");if(L)throw L;$(g,A)}catch(A){console.error("카테고리 목록 로드 중 오류:",A),alert("카테고리 목록을 불러오는데 실패했습니다.")}}async function k(){try{const{data:A,error:L}=await le.from("resv_admin_logs").select(`
          id, action_type, table_name, record_id, 
          details, ip_address, created_at,
          admin:resv_profiles(username, email)
        `).order("created_at",{ascending:!1});if(L)throw L;$(f,A)}catch(A){console.error("관리자 로그 로드 중 오류:",A),alert("관리자 로그를 불러오는데 실패했습니다.")}}function b(A){$(l,A),A==="users"?p():A==="events"?_():A==="categories"?v():A==="logs"&&k()}async function y(A,L){try{const{error:re}=await le.from("resv_profiles").update({role:L}).eq("id",A);if(re)throw re;await U("update","resv_profiles",A,{changed_fields:["role"],new_values:{role:L}}),p(),alert("사용자 역할이 변경되었습니다.")}catch(re){console.error("사용자 역할 변경 중 오류:",re),alert("사용자 역할 변경에 실패했습니다.")}}let S=R("");async function E(){if(!u(S).trim()){alert("카테고리 이름을 입력해주세요.");return}try{const{data:A,error:L}=await le.from("resv_categories").insert({name:u(S).trim()}).select();if(L)throw L;await U("create","resv_categories",A[0].id,{new_values:{name:u(S).trim()}}),$(S,""),v(),alert("카테고리가 추가되었습니다.")}catch(A){console.error("카테고리 추가 중 오류:",A),alert("카테고리 추가에 실패했습니다.")}}async function O(A){if(confirm("정말 이 카테고리를 삭제하시겠습니까?"))try{const{error:L}=await le.from("resv_categories").delete().eq("id",A);if(L)throw L;await U("delete","resv_categories",A),v(),alert("카테고리가 삭제되었습니다.")}catch(L){console.error("카테고리 삭제 중 오류:",L),alert("카테고리 삭제에 실패했습니다.")}}async function U(A,L,re,Y={}){var ue,he;try{const _e=await nt.refresh();await le.from("resv_admin_logs").insert({admin_id:(he=(ue=s())==null?void 0:ue.user)==null?void 0:he.id,action_type:A,table_name:L,record_id:re,details:Y,ip_address:"127.0.0.1"})}catch(_e){console.error("관리자 활동 로깅 중 오류:",_e)}}function C(A){return A?new Date(A).toLocaleString("ko-KR"):""}ft();var K=mv(),B=h(K);{var T=A=>{var L=rv();x(A,L)},H=(A,L)=>{{var re=ue=>{var he=pv(),_e=V(he),Ue=m(h(_e),2),Z=h(Ue),fe=m(_e,2),me=h(fe),Ie=h(me),ae=h(Ie),ze=m(Ie,2),Pe=h(ze),Je=m(ze,2),Fe=h(Je),vt=m(Je,2),De=h(vt),Ne=m(fe,2);{var qe=ne=>{var de=lv(),be=m(h(de),2),We=h(be),Se=m(h(We));xt(Se,5,()=>u(c),qt,(Me,G)=>{var q=ov(),W=h(q),X=h(W),se=h(X);{var ke=oe=>{var ge=nv(),He=V(ge),wt=h(He),pr=m(He,2),_r=h(pr);z(()=>{N(wt,u(G).full_name),N(_r,`(@${u(G).username??""})`)}),x(oe,ge)},$e=oe=>{var ge=sv(),He=h(ge);z(()=>N(He,`@${u(G).username??""}`)),x(oe,ge)};M(se,oe=>{u(G).full_name?oe(ke):oe($e,!1)})}var Qe=m(W),it=h(Qe),j=h(it),I=m(Qe),Q=h(I),Te=h(Q),Xe=m(I),Oe=h(Xe),Ze=m(Xe),St=h(Ze);{var Ht=oe=>{var ge=iv();Ba(ge,()=>u(G).role||"user");var He,wt=h(ge);wt.value=wt.__value="user";var pr=m(wt);pr.value=pr.__value="admin";var _r=m(pr);_r.value=_r.__value="super_admin",z(()=>{He!==(He=u(G).role||"user")&&(ge.value=(ge.__value=u(G).role||"user")??"",Wn(ge,u(G).role||"user"))}),D("change",ge,ss=>y(u(G).id,ss.target.value)),x(oe,ge)},gt=oe=>{var ge=av();x(oe,ge)};M(St,oe=>{var ge,He;u(a)==="super_admin"&&u(G).id!==((He=(ge=s())==null?void 0:ge.user)==null?void 0:He.id)?oe(Ht):oe(gt,!1)})}z(oe=>{N(j,u(G).email||"-"),st(Q,1,`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                      ${u(G).role==="super_admin"?"bg-purple-100 text-purple-800":u(G).role==="admin"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`),N(Te,u(G).role||"user"),N(Oe,oe)},[()=>C(u(G).created_at)],ce),x(Me,q)}),x(ne,de)};M(Ne,ne=>{u(l)==="users"&&ne(qe)})}var Be=m(Ne,2);{var Ke=ne=>{var de=uv(),be=m(h(de),2),We=h(be),Se=m(h(We));xt(Se,5,()=>u(d),qt,(Me,G)=>{var q=cv(),W=h(q),X=h(W),se=h(X),ke=m(X,2),$e=h(ke),Qe=m(W),it=h(Qe),j=m(Qe),I=h(j),Q=h(I),Te=m(j),Xe=h(Te),Oe=m(Te),Ze=h(Oe),St=h(Ze),Ht=m(Ze,2),gt=h(Ht);z((oe,ge)=>{var He,wt;N(se,u(G).title),N($e,`${oe??""}...`),N(it,u(G).organizer||"-"),N(Q,u(G).category||"-"),N(Xe,ge),N(St,((He=u(G).profiles)==null?void 0:He.username)||"-"),N(gt,((wt=u(G).profiles)==null?void 0:wt.email)||"-")},[()=>{var oe;return(oe=u(G).description)==null?void 0:oe.substring(0,50)},()=>C(u(G).reservation_start)],ce),x(Me,q)}),x(ne,de)};M(Be,ne=>{u(l)==="events"&&ne(Ke)})}var F=m(Be,2);{var J=ne=>{var de=hv(),be=m(h(de),2),We=m(h(be),2),Se=h(We),Me=m(Se,2),G=m(be,2),q=h(G),W=m(h(q));xt(W,5,()=>u(g),qt,(X,se)=>{var ke=dv(),$e=h(ke),Qe=h($e),it=m($e),j=h(it),I=m(it),Q=h(I);z(Te=>{N(Qe,u(se).name),N(j,Te)},[()=>C(u(se).created_at)],ce),D("click",Q,()=>O(u(se).id)),x(X,ke)}),Ut(Se,()=>u(S),X=>$(S,X)),D("click",Me,E),x(ne,de)};M(F,ne=>{u(l)==="categories"&&ne(J)})}var ve=m(F,2);{var je=ne=>{var de=gv(),be=m(h(de),2),We=h(be),Se=m(h(We));xt(Se,5,()=>u(f),qt,(Me,G)=>{var q=vv(),W=h(q),X=h(W),se=m(W),ke=h(se),$e=h(ke),Qe=m(ke,2),it=h(Qe),j=m(se),I=h(j),Q=h(I),Te=m(j),Xe=h(Te),Oe=m(Te),Ze=h(Oe),St=h(Ze);{var Ht=oe=>{var ge=fv(),He=h(ge);z(wt=>N(He,wt),[()=>JSON.stringify(u(G).details,null,2)],ce),x(oe,ge)},gt=oe=>{var ge=rt("-");x(oe,ge)};M(St,oe=>{u(G).details&&typeof u(G).details=="object"?oe(Ht):oe(gt,!1)})}z(oe=>{var ge,He;N(X,oe),N($e,((ge=u(G).admin)==null?void 0:ge.username)||"-"),N(it,((He=u(G).admin)==null?void 0:He.email)||"-"),st(I,1,`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                      ${u(G).action_type==="create"?"bg-green-100 text-green-800":u(G).action_type==="update"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`),N(Q,u(G).action_type==="create"?"생성":u(G).action_type==="update"?"수정":u(G).action_type==="delete"?"삭제":u(G).action_type),N(Xe,u(G).table_name)},[()=>C(u(G).created_at)],ce),x(Me,q)}),x(ne,de)};M(ve,ne=>{u(l)==="logs"&&ne(je)})}z(()=>{N(Z,`역할: ${u(a)??""}`),st(ae,1,`inline-block py-4 px-4 text-sm font-medium ${u(l)==="users"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`),st(Pe,1,`inline-block py-4 px-4 text-sm font-medium ${u(l)==="events"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`),st(Fe,1,`inline-block py-4 px-4 text-sm font-medium ${u(l)==="categories"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`),st(De,1,`inline-block py-4 px-4 text-sm font-medium ${u(l)==="logs"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`)}),D("click",ae,()=>b("users")),D("click",Pe,()=>b("events")),D("click",Fe,()=>b("categories")),D("click",De,()=>b("logs")),x(ue,he)},Y=ue=>{var he=_v(),_e=m(h(he),4);D("click",_e,()=>tv("/")),x(ue,he)};M(A,ue=>{u(i)?ue(re):ue(Y,!1)},L)}};M(B,A=>{u(o)?A(T):A(H,!1)})}x(e,K),ot(),n()}var yv=P('<div class="error-message svelte-r7imsl"> </div>'),bv=P('<div class="setting-item clickable svelte-r7imsl" tabindex="0" role="button"><div class="setting-info svelte-r7imsl"><h3 class="svelte-r7imsl">프로필 정보 편집</h3> <p class="svelte-r7imsl">사용자 정보를 변경합니다.</p></div> <!></div>  <div class="setting-item logout svelte-r7imsl" tabindex="0" role="button"><div class="setting-info svelte-r7imsl"><h3 class="svelte-r7imsl">로그아웃</h3> <p class="svelte-r7imsl">계정에서 로그아웃합니다.</p></div> <!></div>',1),xv=P('<div class="login-prompt svelte-r7imsl"><p class="svelte-r7imsl">설정을 관리하려면 로그인하세요.</p> <!></div>'),kv=P("<option> </option>"),$v=P("<option> </option>"),Sv=P('<div class="setting-item svelte-r7imsl"><div class="setting-info svelte-r7imsl"><h3 class="svelte-r7imsl">푸시 알림</h3> <p class="svelte-r7imsl">브라우저 또는 앱 푸시 알림을 받습니다.</p></div> <label class="toggle svelte-r7imsl"><input type="checkbox" class="svelte-r7imsl"> <span class="toggle-slider svelte-r7imsl"></span></label></div> <div class="setting-item svelte-r7imsl"><div class="setting-info svelte-r7imsl"><h3 class="svelte-r7imsl">이메일 알림</h3> <p class="svelte-r7imsl">이메일로 알림을 받습니다.</p></div> <label class="toggle svelte-r7imsl"><input type="checkbox" class="svelte-r7imsl"> <span class="toggle-slider svelte-r7imsl"></span></label></div> <div class="setting-item svelte-r7imsl"><div class="setting-info svelte-r7imsl"><h3 class="svelte-r7imsl">기본 알림 시간</h3> <p class="svelte-r7imsl">예약 시작 전 알림을 받을 기본 시간입니다.</p></div> <select class="select-input svelte-r7imsl"></select></div> <div class="setting-item svelte-r7imsl"><div class="setting-info svelte-r7imsl"><h3 class="svelte-r7imsl">방문 시간 설정</h3> <p class="svelte-r7imsl">이벤트 시작 기준 방문 예정 시간입니다.</p></div> <select class="select-input svelte-r7imsl"></select></div>',1),Ev=P('<div class="setting-item svelte-r7imsl"><div class="setting-info svelte-r7imsl"><h3 class="svelte-r7imsl">다크 모드</h3> <p class="svelte-r7imsl">어두운 테마로 표시합니다.</p></div> <label class="toggle svelte-r7imsl"><input type="checkbox" class="svelte-r7imsl"> <span class="toggle-slider svelte-r7imsl"></span></label></div> <div class="setting-item svelte-r7imsl"><div class="setting-info svelte-r7imsl"><h3 class="svelte-r7imsl">언어</h3> <p class="svelte-r7imsl">앱 표시 언어를 선택합니다.</p></div> <select class="select-input svelte-r7imsl"><option>한국어</option><option>English</option><option>日本語</option><option>中文</option></select></div>',1),Pv=P('<div class="about-info svelte-r7imsl"><h3 class="svelte-r7imsl">PopItGo v0.1.0</h3> <p class="svelte-r7imsl">이벤트 예약 알림 서비스</p> <div class="links svelte-r7imsl"><a href="#" class="link svelte-r7imsl">개인정보처리방침</a> <a href="#" class="link svelte-r7imsl">서비스 이용약관</a> <a href="#" class="link svelte-r7imsl">오픈소스 라이선스</a></div></div>'),Tv=P('<div class="settings-page svelte-r7imsl"><!> <section class="settings-section svelte-r7imsl"><h2 class="section-title svelte-r7imsl"><!> 프로필 및 계정</h2> <!></section> <section class="settings-section svelte-r7imsl"><h2 class="section-title svelte-r7imsl"><!> 알림 설정</h2> <!></section> <section class="settings-section svelte-r7imsl"><h2 class="section-title svelte-r7imsl"><!> 테마 및 표시</h2> <!></section> <section class="settings-section about svelte-r7imsl"><h2 class="section-title svelte-r7imsl"><!> 정보</h2> <!></section> <div class="button-container svelte-r7imsl"><!></div></div>');function Ov(e,t){at(t,!1);const[r,n]=Cr(),s=()=>Ar(nt,"$authStore",r);let i=R(!1),a=R(null),o=R(!1),l=R("ko"),c=R(!0),d=R(!1),g=[{value:"5",label:"5분 전"},{value:"10",label:"10분 전"},{value:"15",label:"15분 전"},{value:"30",label:"30분 전"},{value:"60",label:"1시간 전"},{value:"120",label:"2시간 전"},{value:"1440",label:"하루 전"}],f=R("30"),w=R("30"),p=[{value:"0",label:"이벤트 시작 시간"},{value:"15",label:"15분 전"},{value:"30",label:"30분 전"},{value:"60",label:"1시간 전"}];Xt(async()=>{_();const ae=window.matchMedia("(prefers-color-scheme: dark)").matches;$(o,localStorage.getItem("darkMode")==="true"||localStorage.getItem("darkMode")===null&&ae),k()});async function _(){if(s().isLoggedIn){$(i,!0),$(a,null);try{$(l,localStorage.getItem("language")||"ko"),$(c,localStorage.getItem("pushNotifications")!=="false"),$(d,localStorage.getItem("emailNotifications")==="true"),$(f,localStorage.getItem("defaultNotificationTime")||"30"),$(w,localStorage.getItem("defaultVisitTime")||"30")}catch(ae){console.error("설정 로드 중 오류 발생:",ae),$(a,"설정을 불러올 수 없습니다.")}finally{$(i,!1)}}}async function v(){$(i,!0),$(a,null);try{localStorage.setItem("darkMode",u(o).toString()),localStorage.setItem("language",u(l)),localStorage.setItem("pushNotifications",u(c).toString()),localStorage.setItem("emailNotifications",u(d).toString()),localStorage.setItem("defaultNotificationTime",u(f)),localStorage.setItem("defaultVisitTime",u(w)),k(),alert("설정이 저장되었습니다.")}catch(ae){console.error("설정 저장 중 오류 발생:",ae),$(a,"설정을 저장할 수 없습니다.")}finally{$(i,!1)}}function k(){u(o)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function b(){confirm("로그아웃 하시겠습니까?")&&(nt.logout(),window.location.href="/")}function y(){alert("프로필 편집 기능은 개발 중입니다.")}ft();var S=Tv(),E=h(S);{var O=ae=>{var ze=yv(),Pe=h(ze);z(()=>N(Pe,u(a))),x(ae,ze)};M(E,ae=>{u(a)&&ae(O)})}var U=m(E,2),C=h(U),K=h(C);lo(K,{size:18});var B=m(C,2);dr(B,{children:(ae,ze)=>{var Pe=ye(),Je=V(Pe);{var Fe=De=>{var Ne=bv(),qe=V(Ne),Be=m(h(qe),2);Js(Be,{size:18});var Ke=m(qe,2),F=m(h(Ke),2);oo(F,{size:18}),D("click",qe,y),D("keydown",qe,J=>J.key==="Enter"&&y()),D("click",Ke,b),D("keydown",Ke,J=>J.key==="Enter"&&b()),x(De,Ne)},vt=De=>{var Ne=xv(),qe=m(h(Ne),2);Le(qe,{variant:"primary",onClick:()=>window.location.href="/login",children:(Be,Ke)=>{var F=rt("로그인");x(Be,F)},$$slots:{default:!0}}),x(De,Ne)};M(Je,De=>{s().isLoggedIn?De(Fe):De(vt,!1)})}x(ae,Pe)},$$slots:{default:!0}});var T=m(U,2),H=h(T),A=h(H);Ys(A,{size:18});var L=m(H,2);dr(L,{children:(ae,ze)=>{var Pe=Sv(),Je=V(Pe),Fe=m(h(Je),2),vt=h(Fe),De=m(Je,2),Ne=m(h(De),2),qe=h(Ne),Be=m(De,2),Ke=m(h(Be),2);z(()=>{u(f),Pr(()=>{})}),xt(Ke,5,()=>g,qt,(ve,je)=>{var ne=kv(),de={},be=h(ne);z(()=>{de!==(de=u(je).value)&&(ne.value=(ne.__value=u(je).value)??""),N(be,u(je).label)}),x(ve,ne)});var F=m(Be,2),J=m(h(F),2);z(()=>{u(w),Pr(()=>{})}),xt(J,5,()=>p,qt,(ve,je)=>{var ne=$v(),de={},be=h(ne);z(()=>{de!==(de=u(je).value)&&(ne.value=(ne.__value=u(je).value)??""),N(be,u(je).label)}),x(ve,ne)}),ds(vt,()=>u(c),ve=>$(c,ve)),ds(qe,()=>u(d),ve=>$(d,ve)),Tr(Ke,()=>u(f),ve=>$(f,ve)),Tr(J,()=>u(w),ve=>$(w,ve)),x(ae,Pe)},$$slots:{default:!0}});var re=m(T,2),Y=h(re),ue=h(Y);Tu(ue,{size:18});var he=m(Y,2);dr(he,{children:(ae,ze)=>{var Pe=Ev(),Je=V(Pe),Fe=m(h(Je),2),vt=h(Fe),De=m(Je,2),Ne=m(h(De),2);z(()=>{u(l),Pr(()=>{})});var qe=h(Ne);qe.value=qe.__value="ko";var Be=m(qe);Be.value=Be.__value="en";var Ke=m(Be);Ke.value=Ke.__value="ja";var F=m(Ke);F.value=F.__value="zh",ds(vt,()=>u(o),J=>$(o,J)),Tr(Ne,()=>u(l),J=>$(l,J)),x(ae,Pe)},$$slots:{default:!0}});var _e=m(re,2),Ue=h(_e),Z=h(Ue);Au(Z,{size:18});var fe=m(Ue,2);dr(fe,{children:(ae,ze)=>{var Pe=Pv();x(ae,Pe)},$$slots:{default:!0}});var me=m(_e,2),Ie=h(me);Le(Ie,{variant:"primary",onClick:v,get disabled(){return u(i)},children:(ae,ze)=>{var Pe=rt();z(()=>N(Pe,u(i)?"저장 중...":"설정 저장")),x(ae,Pe)},$$slots:{default:!0}}),x(e,S),ot(),n()}var Av=P('<h1 class="text-xl font-bold mb-4">페이지를 찾을 수 없습니다</h1> <p class="mb-6">요청하신 페이지가 존재하지 않거나 이동되었을 수 있습니다.</p> <!>',1);function Cv(e){function t(){window.location.href="/"}dr(e,{padding:"lg",className:"container-app my-12",children:(r,n)=>{var s=Av(),i=m(V(s),4);Le(i,{variant:"primary",$$events:{click:t},children:(a,o)=>{var l=rt("홈으로 돌아가기");x(a,l)},$$slots:{default:!0}}),x(r,s)},$$slots:{default:!0}})}var jv=P('<a href="/admin" class="flex flex-col items-center px-2 py-1 text-gray-600 hover:text-blue-600" tabindex="0" role="button" aria-label="관리자"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span class="text-xs">관리자</span></a>'),Lv=P('<button class="flex flex-col items-center px-2 py-1 text-gray-600 hover:text-blue-600" tabindex="0" aria-label="로그아웃"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="text-xs">로그아웃</span></button>'),Rv=P('<a href="/login" class="flex flex-col items-center px-2 py-1 text-gray-600 hover:text-blue-600" tabindex="0" role="button" aria-label="로그인"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="text-xs">로그인</span></a>'),Iv=P('<div class="min-h-screen flex flex-col bg-gray-50"><!> <main class="container-app py-6 pb-24 flex-grow"><!> <nav class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 px-4 py-2 flex justify-around" aria-label="주요 메뉴"><a href="/" class="flex flex-col items-center px-2 py-1 text-gray-600 hover:text-blue-600" tabindex="0" role="button" aria-label="홈"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg> <span class="text-xs">홈</span></a> <a href="/events" class="flex flex-col items-center px-2 py-1 text-gray-600 hover:text-blue-600" tabindex="0" role="button" aria-label="이벤트"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <span class="text-xs">이벤트</span></a> <a href="/events?tab=my-reservations" class="flex flex-col items-center px-2 py-1 text-gray-600 hover:text-blue-600" tabindex="0" role="button" aria-label="예약"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> <span class="text-xs">예약</span></a> <a href="/settings" class="flex flex-col items-center px-2 py-1 text-gray-600 hover:text-blue-600" tabindex="0" role="button" aria-label="설정"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span class="text-xs">설정</span></a> <!> <!></nav></main> <!></div>');function Dv(e,t){at(t,!1);let r=R(null);const n=ts(window.location.pathname),s={"/":na,"/events":vf,"/login":Kf,"/admin":wv,"/auth/callback":Hf,"/settings":Ov};let i=R(na);function a(){const T=window.location.pathname;if(n.set(T),T.startsWith("/events/")&&T!=="/events/"){T.split("/").pop(),$(i,jf);return}$(i,s[T]||Cv)}function o(){a()}function l(T){window.history.pushState({},"",T),a()}function c(T,H){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),l(H))}Xt(()=>{a(),window.addEventListener("popstate",o);const T=nt.subscribe(H=>{$(r,H.user),H.isLoading});return()=>{window.removeEventListener("popstate",o),T()}});function d(T){T.preventDefault(),nt.logout()}function g(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),nt.logout())}ft();var f=Iv(),w=h(f);Du(w,{});var p=m(w,2),_=h(p);Dl(_,()=>u(i),(T,H)=>{H(T,{})});var v=m(_,2),k=h(v),b=m(k,2),y=m(b,2),S=m(y,2),E=m(S,2);{var O=T=>{var H=jv();D("click",H,xr(()=>l("/admin"))),D("keydown",H,A=>c(A,"/admin")),x(T,H)};M(E,T=>{u(r)&&u(r).role&&["admin","super_admin"].includes(u(r).role)&&T(O)})}var U=m(E,2);{var C=T=>{var H=Lv();D("click",H,d),D("keydown",H,g),x(T,H)},K=T=>{var H=Rv();D("click",H,xr(()=>l("/login"))),D("keydown",H,A=>c(A,"/login")),x(T,H)};M(U,T=>{u(r)?T(C):T(K,!1)})}var B=m(p,2);zu(B,{}),D("click",k,xr(()=>l("/"))),D("keydown",k,T=>c(T,"/")),D("click",b,xr(()=>l("/events"))),D("keydown",b,T=>c(T,"/events")),D("click",y,xr(()=>l("/events?tab=my-reservations"))),D("keydown",y,T=>c(T,"/events?tab=my-reservations")),D("click",S,xr(()=>l("/settings"))),D("keydown",S,T=>c(T,"/settings")),x(e,f),ot()}Ol(Dv,{target:document.getElementById("app")});export{ic as g};
